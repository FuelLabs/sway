script script {
    fn go(test: bool) -> u64 {
        entry:
        cbr test, block0, block1

        block0:
        v0 = const u64 0
        ret u64 v0
        v1 = const unit ()
        br block2

        block1:
        v2 = const unit ()
        br block2

        block2:
        v3 = phi(block0: v1, block1: v2)
        cbr test, block3, block4

        block3:
        v4 = const u64 1
        br block5

        block4:
        v5 = const u64 2
        br block5

        block5:
        v6 = phi(block3: v4, block4: v5)
        ret u64 v6
    }

    fn main() -> u64 {
        entry:
        v0 = const bool true
        v1 = call go(v0)
        ret u64 v1
    }
}
