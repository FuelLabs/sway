category = "fail"

#check: $()Struct cannot be instantiated due to inaccessible private fields
#check: $()ls: LibStruct = LibStruct { },
#nextln: $()"LibStruct" cannot be instantiated in this storage declaration, due to an inaccessible private field.
#check: $()They can still be stored in storage by using the `read` and `write` functions provided in the `std::storage::storage_api`.
#check: $()Inaccessible field is "y".
#check: $()Struct "LibStruct" is declared here, and has private field "y".
#check: $()write(STORAGE_KEY, 0, my_lib_struct);
#nextln: $()let my_lib_struct_option = read::<LibStruct>(STORAGE_KEY, 0);
#check: $()Alternatively, consider declaring the field "y" as public in "LibStruct", `pub y: ...,`, and use "LibStruct" in storage declaration.

#check: $()Private struct field is inaccessible
#check: $()let _ = storage.ls.y.read();
#nextln: $()Private field "y" of the struct "LibStruct" is inaccessible in this module.
#check: $()y: u64,
#nextln: $()Field "y" is declared here as private.
#check: $()Consider declaring the field "y" as public in "LibStruct": `pub y: ...,`.

#check: $()Private struct field is inaccessible
#check: $()let _ = storage.ls.other.y.read();
#nextln: $()Private field "y" of the struct "LibOtherStruct" is inaccessible in this module.
#check: $()y: u64,
#nextln: $()Field "y" is declared here as private.
#check: $()Consider declaring the field "y" as public in "LibOtherStruct": `pub y: ...,`.

#not: Private field "y" of the struct "MainStruct" is inaccessible in this module.

#check: $()error
#check: $()ls: LibStruct = LibStruct { },
#nextln: $()Could not evaluate initializer to a const declaration.
