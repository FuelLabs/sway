---
source: test/src/snapshot/mod.rs
---
> forc migrate run --path test/src/e2e_vm_tests/test_programs/should_pass/forc/migrate/str_array_no_padding
exit status: 0
output:
   Compiling str_array_no_padding (test/src/e2e_vm_tests/test_programs/should_pass/forc/migrate/str_array_no_padding)
   Migrating Breaking change features new_hashing and str_array_no_padding
     Checked [new_hashing]           Review existing usages of `StorageMap`, `sha256`, and `keccak256`
      Review [str_array_no_padding]  Review storage of string arrays
info: [str_array_no_padding] Review storage of string arrays
 --> test/src/e2e_vm_tests/test_programs/should_pass/forc/migrate/str_array_no_padding/src/main.sw:8:5
  |
...
8 |     not_ok_1: str[1] = __to_str_array("a"),
  |     -------- info: Review this field
9 |     not_ok_2: B = B { b: __to_str_array("b") },
  |     -------- info: Review this field
  |
  = help: The runtime layout of string arrays is changing.
  = help:  
  = help: The current behaviour pads their sizes until they reach a multiple of 8.
  = help: This was done as an optimisation for `encoding v0`, but given that it is
  = help: reaching its end of life, this behaviour will be kept only when the 
  = help: experimental compiler flag `str_array_no_padding` is set to `false`.
  = help:  
  = help: For `encoding v1`, the compiler can achieve better performance by removing 
  = help: this padding, allowing more types to be trivially encodable/decodable, and
  = help: triggering other optimisations. This will be the new behaviour when 
  = help: `str_array_no_padding` is set to `true`.
  = help:  
  = help: This difference directly impacts storage, because with the new layout, reads
  = help: and writes of any type containing string arrays will touch different slots. 
  = help: That happens because their size will be different.
  = help:  
  = help: One solution when migrating data is to read from storage using a version of
  = help: the `struct` that instead of `str[N]` has `[u8; M]`, where M is the next 
  = help: multiple of 8 after N, simulating the padding.
  = help:  
  = help: ╔═════════════════════════════════════════════════════════════════════════════════════╗
  = help: ║ The above occurrences must not be seen as comprehensive, but rather as a guideline. ║
  = help: ║ Carefully review all the storage access in your code.                               ║
  = help: ╚═════════════════════════════════════════════════════════════════════════════════════╝
  = help:  
  = help: For a detailed migration guide see: https://github.com/FuelLabs/sway/issues/7528
____

If you've already reviewed the above points, you can ignore this info.
    Finished Project is compatible with the next breaking change version of Sway
