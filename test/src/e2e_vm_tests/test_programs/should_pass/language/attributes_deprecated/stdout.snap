---
source: test/src/snapshot/mod.rs
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated --release
exit status: 0
output:
    Building test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated
   Compiling library std (test/src/e2e_vm_tests/reduced_std_libs/sway-lib-std-core)
DIFF------------------------------
.program:
DIFF------------------------------
.program:
   Compiling contract attributes_deprecated (test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated)
DIFF------------------------------
.program:
addr $$arg0 data_Configurable_0         ; get pointer to configurable DEPRECATED default value
addi $$arg1 $zero i8                    ; get length of configurable DEPRECATED default value
addi $$arg2 $ssp i0                     ; get pointer to configurable DEPRECATED stack address
fncall .0                               ; decode configurable DEPRECATED
DIFF------------------------------
.program:
addr $$arg0 data_Configurable_0         ; get pointer to configurable DEPRECATED default value
addi $$arg1 $zero i8                    ; get length of configurable DEPRECATED default value
addi $$arg2 $ssp i0                     ; get pointer to configurable DEPRECATED stack address
fncall .0                               ; decode configurable DEPRECATED
DIFF------------------------------
.program:
.2                                      ; --- start of function: __entry ---
move $$locbase $sp                      ; save locals base register for function __entry
cfei i136                               ; allocate 136 bytes for locals and 0 slots for call arguments
.5
addr $r6 data_NonConfigurable_0         ; get __const_global's address in data section
addi $r7 $$locbase i16                  ; get offset to local __ptr { ptr, u64 }
sw $$locbase $r6 i2                     ; store word
addi $r8 $r7 i8                         ; get offset to aggregate element
movi $r9 i57                            ; initialize constant into register
sw $$locbase $r9 i3                     ; store word
addi $r10 $$locbase i32                 ; get offset to local __ptr slice
mcpi $r10 $r7 i16                       ; copy memory
addi $r11 $$locbase i96                 ; get offset to local __ptr slice
mcpi $r11 $r10 i16                      ; copy memory
addi $r12 $$locbase i96                 ; get offset to local __ptr slice
addi $r13 $$locbase i112                ; get offset to local __ptr slice
mcpi $r13 $r12 i16                      ; copy memory
addi $r14 $$locbase i112                ; get offset to local __ptr slice
move $r15 $r14                          ; return value from ASM block with return register s
 mcpi $$locbase $r15 i16                 ; copy memory
 mcpi $$locbase $r14 i16                 ; copy memory
addi $r16 $$locbase i56                 ; get offset to local __ptr { ptr, u64 }
mcpi $r16 $$locbase i16                 ; copy memory
addi $r17 $$locbase i56                 ; get offset to local __ptr { ptr, u64 }
addi $r18 $$locbase i72                 ; get offset to local __ptr { ptr, u64 }
mcpi $r18 $r17 i16                      ; copy memory
addi $r19 $$locbase i72                 ; get offset to local __ptr { ptr, u64 }
lw $r20 $$locbase i9                    ; load word
move $r21 $fp                           ; return value from ASM block with return register fp
movi $r22 i592                          ; initialize constant into register
 add $r23 $r21 $r22
 add $r23 $fp $r22
lw $r24 $fp i74                         ; lw val ptr i0
move $r25 $r24                          ; return value from ASM block with return register val
move $r26 $fp                           ; return value from ASM block with return register fp
movi $r27 i584                          ; initialize constant into register
 add $r28 $r26 $r27
 add $r28 $fp $r27
lw $r29 $fp i73                         ; lw val ptr i0
move $r30 $r29                          ; return value from ASM block with return register val
 move $r31 $r30                          ; return value from ASM block with return register ptr
 move $r31 $r29                          ; return value from ASM block with return register ptr
addi $r32 $$locbase i48                 ; get offset to local __ptr { ptr }
 sw $$locbase $r31 i6                    ; store word
 sw $$locbase $r29 i6                    ; store word
addi $r33 $$locbase i88                 ; get offset to local __ptr { ptr }
mcpi $r33 $r32 i8                       ; copy memory
addi $r34 $$locbase i88                 ; get offset to local __ptr { ptr }
lw $r35 $$locbase i11                   ; load word
lw $r36 $r35 i0                         ; lw val ptr i0
move $r37 $r36                          ; return value from ASM block with return register val
lw $r38 $$locbase i11                   ; load word
movi $r39 i8                            ; initialize constant into register
add $r40 $r38 $r39
sw $$locbase $r40 i11                   ; store word
addi $r41 $$locbase i88                 ; get offset to local __ptr { ptr }
addi $r42 $$locbase i128                ; get offset to local __ptr { ptr }
mcpi $r42 $r41 i8                       ; copy memory
addi $r43 $$locbase i128                ; get offset to local __ptr { ptr }
lw $r44 $$locbase i16                   ; load word
movi $r45 i27                           ; initialize constant into register
eq $r46 $r37 $r45
jnzi $r46 .6
ji  .7
.6
movi $r48 i27                           ; initialize constant into register
addi $r47 $r20 i0
meq $r47 $r44 $r47 $r48
move $r49 $r47                          ; return value from ASM block with return register r
 jnzi $r49 .8
 jnzi $r47 .8
ji  .7
.7
movi $r50 i30                           ; initialize constant into register
eq $r51 $r37 $r50
jnzi $r51 .9
ji  .10
.9
movi $r53 i30                           ; initialize constant into register
addi $r52 $r20 i27
meq $r52 $r44 $r52 $r53
move $r54 $r52                          ; return value from ASM block with return register r
 jnzi $r54 .11
 jnzi $r52 .11
ji  .10
.10
movi $r55 i123                          ; initialize constant into register
rvrt $r55
.11
 move $r56 $zero                         ; return value from ASM block with return register zero
 retd $r56 $zero
 movi $r56 i0                            ; return value from ASM block with return register zero
 retd $zero $zero
.8
 move $r57 $zero                         ; return value from ASM block with return register zero
 retd $r57 $zero
 movi $r57 i0                            ; return value from ASM block with return register zero
 retd $zero $zero
DIFF------------------------------
.program:
.2                                      ; --- start of function: __entry ---
move $$locbase $sp                      ; save locals base register for function __entry
cfei i136                               ; allocate 136 bytes for locals and 0 slots for call arguments
.5
addr $r6 data_NonConfigurable_0         ; get __const_global's address in data section
addi $r7 $$locbase i16                  ; get offset to local __ptr { ptr, u64 }
sw $$locbase $r6 i2                     ; store word
movi $r9 i57                            ; initialize constant into register
sw $$locbase $r9 i3                     ; store word
addi $r10 $$locbase i32                 ; get offset to local __ptr slice
mcpi $r10 $r7 i16                       ; copy memory
addi $r11 $$locbase i96                 ; get offset to local __ptr slice
mcpi $r11 $r10 i16                      ; copy memory
addi $r12 $$locbase i96                 ; get offset to local __ptr slice
addi $r13 $$locbase i112                ; get offset to local __ptr slice
mcpi $r13 $r12 i16                      ; copy memory
addi $r14 $$locbase i112                ; get offset to local __ptr slice
mcpi $$locbase $r14 i16                 ; copy memory
addi $r16 $$locbase i56                 ; get offset to local __ptr { ptr, u64 }
mcpi $r16 $$locbase i16                 ; copy memory
addi $r17 $$locbase i56                 ; get offset to local __ptr { ptr, u64 }
addi $r18 $$locbase i72                 ; get offset to local __ptr { ptr, u64 }
mcpi $r18 $r17 i16                      ; copy memory
lw $r20 $$locbase i9                    ; load word
lw $r29 $fp i73                         ; lw val ptr i0
addi $r32 $$locbase i48                 ; get offset to local __ptr { ptr }
sw $$locbase $r29 i6                    ; store word
addi $r33 $$locbase i88                 ; get offset to local __ptr { ptr }
mcpi $r33 $r32 i8                       ; copy memory
lw $r35 $$locbase i11                   ; load word
lw $r36 $r35 i0                         ; lw val ptr i0
move $r37 $r36                          ; return value from ASM block with return register val
lw $r38 $$locbase i11                   ; load word
movi $r39 i8                            ; initialize constant into register
add $r40 $r38 $r39
sw $$locbase $r40 i11                   ; store word
addi $r41 $$locbase i88                 ; get offset to local __ptr { ptr }
addi $r42 $$locbase i128                ; get offset to local __ptr { ptr }
mcpi $r42 $r41 i8                       ; copy memory
lw $r44 $$locbase i16                   ; load word
movi $r45 i27                           ; initialize constant into register
eq $r46 $r37 $r45
jnzi $r46 .6
ji  .7
.6
movi $r48 i27                           ; initialize constant into register
addi $r47 $r20 i0
meq $r47 $r44 $r47 $r48
jnzi $r47 .8
.7
movi $r50 i30                           ; initialize constant into register
eq $r51 $r37 $r50
jnzi $r51 .9
ji  .10
.9
movi $r53 i30                           ; initialize constant into register
addi $r52 $r20 i27
meq $r52 $r44 $r52 $r53
jnzi $r52 .11
.10
movi $r55 i123                          ; initialize constant into register
rvrt $r55
.11
retd $zero $zero
.8
retd $zero $zero
DIFF------------------------------
.program:
.2                                      ; --- start of function: __entry ---
move $$locbase $sp                      ; save locals base register for function __entry
cfei i136                               ; allocate 136 bytes for locals and 0 slots for call arguments
.5
addr $r6 data_NonConfigurable_0         ; get __const_global's address in data section
addi $r7 $$locbase i16                  ; get offset to local __ptr { ptr, u64 }
sw $$locbase $r6 i2                     ; store word
movi $r9 i57                            ; initialize constant into register
sw $$locbase $r9 i3                     ; store word
addi $r10 $$locbase i32                 ; get offset to local __ptr slice
mcpi $r10 $r7 i16                       ; copy memory
addi $r11 $$locbase i96                 ; get offset to local __ptr slice
mcpi $r11 $r10 i16                      ; copy memory
addi $r12 $$locbase i96                 ; get offset to local __ptr slice
addi $r13 $$locbase i112                ; get offset to local __ptr slice
mcpi $r13 $r12 i16                      ; copy memory
addi $r14 $$locbase i112                ; get offset to local __ptr slice
mcpi $$locbase $r14 i16                 ; copy memory
addi $r16 $$locbase i56                 ; get offset to local __ptr { ptr, u64 }
mcpi $r16 $$locbase i16                 ; copy memory
addi $r17 $$locbase i56                 ; get offset to local __ptr { ptr, u64 }
addi $r18 $$locbase i72                 ; get offset to local __ptr { ptr, u64 }
mcpi $r18 $r17 i16                      ; copy memory
lw $r20 $$locbase i9                    ; load word
lw $r29 $fp i73                         ; lw val ptr i0
addi $r32 $$locbase i48                 ; get offset to local __ptr { ptr }
sw $$locbase $r29 i6                    ; store word
addi $r33 $$locbase i88                 ; get offset to local __ptr { ptr }
mcpi $r33 $r32 i8                       ; copy memory
lw $r35 $$locbase i11                   ; load word
lw $r36 $r35 i0                         ; lw val ptr i0
move $r37 $r36                          ; return value from ASM block with return register val
lw $r38 $$locbase i11                   ; load word
movi $r39 i8                            ; initialize constant into register
add $r40 $r38 $r39
sw $$locbase $r40 i11                   ; store word
addi $r41 $$locbase i88                 ; get offset to local __ptr { ptr }
addi $r42 $$locbase i128                ; get offset to local __ptr { ptr }
mcpi $r42 $r41 i8                       ; copy memory
lw $r44 $$locbase i16                   ; load word
movi $r45 i27                           ; initialize constant into register
eq $r46 $r37 $r45
jnzi $r46 .6
ji  .7
.6
movi $r48 i27                           ; initialize constant into register
addi $r47 $r20 i0
meq $r47 $r44 $r47 $r48
jnzi $r47 .8
.7
movi $r50 i30                           ; initialize constant into register
eq $r51 $r37 $r50
jnzi $r51 .9
ji  .10
.9
movi $r53 i30                           ; initialize constant into register
addi $r52 $r20 i27
meq $r52 $r44 $r52 $r53
jnzi $r52 .11
.10
movi $r55 i123                          ; initialize constant into register
rvrt $r55
.11
retd $zero $zero
.8
retd $zero $zero
DIFF------------------------------
.program:
.2                                      ; --- start of function: __entry ---
move $$locbase $sp                      ; save locals base register for function __entry
cfei i136                               ; allocate 136 bytes for locals and 0 slots for call arguments
.5
addr $r6 data_NonConfigurable_0         ; get __const_global's address in data section
addi $r7 $$locbase i16                  ; get offset to local __ptr { ptr, u64 }
sw $$locbase $r6 i2                     ; store word
movi $r9 i57                            ; initialize constant into register
sw $$locbase $r9 i3                     ; store word
addi $r10 $$locbase i32                 ; get offset to local __ptr slice
mcpi $r10 $r7 i16                       ; copy memory
addi $r11 $$locbase i96                 ; get offset to local __ptr slice
mcpi $r11 $r10 i16                      ; copy memory
addi $r12 $$locbase i96                 ; get offset to local __ptr slice
addi $r13 $$locbase i112                ; get offset to local __ptr slice
mcpi $r13 $r12 i16                      ; copy memory
addi $r14 $$locbase i112                ; get offset to local __ptr slice
mcpi $$locbase $r14 i16                 ; copy memory
addi $r16 $$locbase i56                 ; get offset to local __ptr { ptr, u64 }
mcpi $r16 $$locbase i16                 ; copy memory
addi $r17 $$locbase i56                 ; get offset to local __ptr { ptr, u64 }
addi $r18 $$locbase i72                 ; get offset to local __ptr { ptr, u64 }
mcpi $r18 $r17 i16                      ; copy memory
lw $r20 $$locbase i9                    ; load word
lw $r29 $fp i73                         ; lw val ptr i0
addi $r32 $$locbase i48                 ; get offset to local __ptr { ptr }
sw $$locbase $r29 i6                    ; store word
addi $r33 $$locbase i88                 ; get offset to local __ptr { ptr }
mcpi $r33 $r32 i8                       ; copy memory
lw $r35 $$locbase i11                   ; load word
lw $r36 $r35 i0                         ; lw val ptr i0
move $r37 $r36                          ; return value from ASM block with return register val
lw $r38 $$locbase i11                   ; load word
movi $r39 i8                            ; initialize constant into register
add $r40 $r38 $r39
sw $$locbase $r40 i11                   ; store word
addi $r41 $$locbase i88                 ; get offset to local __ptr { ptr }
addi $r42 $$locbase i128                ; get offset to local __ptr { ptr }
mcpi $r42 $r41 i8                       ; copy memory
lw $r44 $$locbase i16                   ; load word
movi $r45 i27                           ; initialize constant into register
eq $r46 $r37 $r45
jnzi $r46 .6
ji  .7
.6
movi $r48 i27                           ; initialize constant into register
addi $r47 $r20 i0
meq $r47 $r44 $r47 $r48
jnzi $r47 .8
.7
movi $r50 i30                           ; initialize constant into register
eq $r51 $r37 $r50
jnzi $r51 .9
ji  .10
.9
movi $r53 i30                           ; initialize constant into register
addi $r52 $r20 i27
meq $r52 $r44 $r52 $r53
jnzi $r52 .11
.10
movi $r55 i123                          ; initialize constant into register
rvrt $r55
.11
retd $zero $zero
.8
retd $zero $zero
DIFF------------------------------
.program:
.0                                      ; --- start of function: abi_decode_in_place_0 ---
pusha .0                                ; save all registers
move $$locbase $sp                      ; save locals base register for function abi_decode_in_place_0
cfei i0                                 ; allocate 0 bytes for locals and 0 slots for call arguments
.4
move $r1 $$arg0                         ; copy ASM block argument's constant initial value to register
move $r2 $$arg2                         ; copy ASM block argument's constant initial value to register
move $r3 $$arg1                         ; copy ASM block argument's constant initial value to register
 mcp $r2 $r1 $r3                         ; mcp target src len
 move $r4 $zero                          ; return unit value from ASM block without return register
 mcp $$arg2 $$arg0 $$arg1                ; mcp target src len
 movi $r4 i0                             ; return unit value from ASM block without return register
ji  .1
.1
cfsi i0                                 ; free 0 bytes for locals and 0 slots for extra call arguments
popa .0                                 ; restore all registers
jal $zero $$reta i0                     ; return from call
DIFF------------------------------
.program:
.0                                      ; --- start of function: abi_decode_in_place_0 ---
pusha .0                                ; save all registers
move $$locbase $sp                      ; save locals base register for function abi_decode_in_place_0
.4
mcp $$arg2 $$arg0 $$arg1                ; mcp target src len
.1
popa .0                                 ; restore all registers
jal $zero $$reta i0                     ; return from call
DIFF------------------------------
.program:
.0                                      ; --- start of function: abi_decode_in_place_0 ---
pusha .0                                ; save all registers
move $$locbase $sp                      ; save locals base register for function abi_decode_in_place_0
.4
mcp $$arg2 $$arg0 $$arg1                ; mcp target src len
.1
popa .0                                 ; restore all registers
jal $zero $$reta i0                     ; return from call
DIFF------------------------------
.program:
.0                                      ; --- start of function: abi_decode_in_place_0 ---
pusha .0                                ; save all registers
move $$locbase $sp                      ; save locals base register for function abi_decode_in_place_0
.4
mcp $$arg2 $$arg0 $$arg1                ; mcp target src len
.1
popa .0                                 ; restore all registers
jal $zero $$reta i0                     ; return from call
warning: Struct is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:83:14
   |
...
83 |     let ds = DeprecatedStruct { a: 0 };
   |              ---------------- Struct "DeprecatedStruct" is deprecated.
   |              ---------------- help: Use "NonDeprecatedStruct" instead.
   |
____

warning: Struct field is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:87:17
   |
...
87 |     let _ = nds.deprecated_field;
   |                 ---------------- Struct field "deprecated_field" is deprecated.
   |
____

warning: Struct field is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:89:14
   |
...
89 |     (*r_nds).deprecated_field = 1;
   |              ---------------- Struct field "deprecated_field" is deprecated.
   |
____

warning: Function is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:90:9
   |
...
90 |     nds.deprecated_method();
   |         ----------------- Function "deprecated_method" is deprecated.
   |
____

warning: Function is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:91:9
   |
...
91 |     nds.deprecated_assoc_fun();
   |         -------------------- Function "deprecated_assoc_fun" is deprecated.
   |
____

warning: Constant is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:92:34
   |
...
92 |     let _ = NonDeprecatedStruct::DEPRECATED_ASSOC_CONST;
   |                                  ---------------------- Constant "DEPRECATED_ASSOC_CONST" is deprecated.
   |
____

warning: Enum is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:94:13
   |
...
94 |     let _ = DeprecatedEnum::A(0);
   |             ----------------- Enum "DeprecatedEnum" is deprecated.
   |             ----------------- help: Use "NonDeprecatedEnum" instead.
   |
____

warning: Enum variant is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:95:34
   |
...
95 |     let nde = NonDeprecatedEnum::DeprecatedVariant(0);
   |                                  ----------------- Enum variant "DeprecatedVariant" is deprecated.
   |
____

warning: Function is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:96:9
   |
...
96 |     nde.deprecated_method();
   |         ----------------- Function "deprecated_method" is deprecated.
   |
____

warning: Function is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:97:9
   |
...
97 |     nde.deprecated_assoc_fun();
   |         -------------------- Function "deprecated_assoc_fun" is deprecated.
   |
____

warning: Function is deprecated
   --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:101:5
    |
...
101 |     deprecated(ds);
    |     ---------- Function "deprecated" is deprecated.
    |     ---------- help: Use "non_deprecated" instead.
    |
____

warning: Configurable is deprecated
   --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:103:13
    |
...
103 |     let _ = DEPRECATED;
    |             ---------- Configurable "DEPRECATED" is deprecated.
    |
____

warning: Function is deprecated
   --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:109:9
    |
...
109 |     nds.deprecated_to_be_trait_method();
    |         ----------------------------- Function "deprecated_to_be_trait_method" is deprecated.
    |
____

warning: Function is deprecated
   --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:110:9
    |
...
110 |     nds.deprecated_trait_provided_method();
    |         -------------------------------- Function "deprecated_trait_provided_method" is deprecated.
    |
____

warning: Function is deprecated
   --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:111:5
    |
...
111 |     NonDeprecatedStruct::deprecated_to_be_trait_assoc_fun();
    |     ----------------------------------------------------- Function "deprecated_to_be_trait_assoc_fun" is deprecated.
    |
____

warning: Function is deprecated
   --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:112:5
    |
...
112 |     NonDeprecatedStruct::deprecated_trait_provided_assoc_fun();
    |     -------------------------------------------------------- Function "deprecated_trait_provided_assoc_fun" is deprecated.
    |
____

warning: Struct field is deprecated
   --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.sw:119:31
    |
...
119 |         NonDeprecatedStruct { deprecated_field, .. } => {
    |                               ---------------- Struct field "deprecated_field" is deprecated.
    |
____

warning: Function is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.<autogenerated>.sw:15:15
   |
...
15 | let _result = __contract_entry_deprecated_to_be_abi_method();
   |               -------------------------------------------- Function "deprecated_to_be_abi_method" is deprecated.
   |
____

warning: Function is deprecated
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/attributes_deprecated/src/main.<autogenerated>.sw:21:15
   |
...
21 | let _result = __contract_entry_deprecated_abi_provided_method();
   |               ----------------------------------------------- Function "deprecated_abi_provided_method" is deprecated.
   |
____

  Compiled contract "attributes_deprecated" with 19 warnings.
    Finished release [optimized + fuel] target(s) [384 B] in ???
