---
source: test/src/snapshot/mod.rs
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics --release
exit status: 1
output:
    Building test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics
   Compiling library std (sway-lib-std)
   Compiling script const_generics (test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics)
warning
<<<<<<< HEAD
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:50:5
   |
48 | enum TwoVariants<T, const N: u64> {
49 |     Nothing: (),
50 |     Array: [T; N]
   |     ----- Enum variant Array is never constructed.
51 | }
52 | 
=======
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:50:9
   |
48 | 
49 |     // string arrays
50 |     let a: str[3] = __to_str_array("ABC");
   |         - This declaration is never used.
51 |     assert(a.len() == 3);
52 |     let _ = __dbg(a.len());
   |
____

warning
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:54:9
   |
52 |     let _ = __dbg(a.len());
53 | 
54 |     let a: str[5] = __to_str_array("ABCDE");
   |         - This declaration is never used.
55 |     assert(a.len() == 5);
56 |     let _ = __dbg(a.len());
>>>>>>> cosnt generics for string array and len methods
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:17:15
   |
15 | }
16 | 
17 | impl<T, const N: u64> A for [T; N] {
   |               ^ This needs "const_generics" to be enabled, but it is currently disabled. For more details go to https://github.com/FuelLabs/sway/issues/6860.
18 |     fn my_len(self) -> u64 {
19 |         match LotsOfVariants::A(N) {
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:27:19
   |
25 | }
26 | 
27 | struct S<T, const N: u64> {
   |                   ^ This needs "const_generics" to be enabled, but it is currently disabled. For more details go to https://github.com/FuelLabs/sway/issues/6860.
28 | }
29 | 
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:30:15
   |
28 | }
29 | 
30 | impl<T, const N: u64> S<T, N> {
   |               ^ This needs "const_generics" to be enabled, but it is currently disabled. For more details go to https://github.com/FuelLabs/sway/issues/6860.
31 |     pub fn len_xxx(self) -> u64 {
32 |         N
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:37:23
   |
35 | 
36 | // Enum with just one variant
37 | enum OneVariant<const N: u64> {
   |                       ^ This needs "const_generics" to be enabled, but it is currently disabled. For more details go to https://github.com/FuelLabs/sway/issues/6860.
38 |     A: [u64; N],
39 | }
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:41:12
   |
39 | }
40 | 
41 | impl<const N: u64> OneVariant<N> {
   |            ^ This needs "const_generics" to be enabled, but it is currently disabled. For more details go to https://github.com/FuelLabs/sway/issues/6860.
42 |     pub fn return_n(self) -> u64 {
43 |         N
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:48:27
   |
46 | 
47 | // Enum with more than one variant
48 | enum TwoVariants<T, const N: u64> {
   |                           ^ This needs "const_generics" to be enabled, but it is currently disabled. For more details go to https://github.com/FuelLabs/sway/issues/6860.
49 |     Nothing: (),
50 |     Array: [T; N]
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:53:15
   |
51 | }
52 | 
53 | impl<T, const N: u64> TwoVariants<T, N> {
   |               ^ This needs "const_generics" to be enabled, but it is currently disabled. For more details go to https://github.com/FuelLabs/sway/issues/6860.
54 |     pub fn len_xxx2(self) -> u64 {
55 |         N
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:60:19
   |
58 | 
59 | #[inline(never)]
60 | fn return_n<const NNN: u64>() -> u64 {
   |                   ^^^ This needs "const_generics" to be enabled, but it is currently disabled. For more details go to https://github.com/FuelLabs/sway/issues/6860.
61 |     NNN
62 | }
   |
____

<<<<<<< HEAD
  Aborting due to 8 errors.
=======
error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:35:26
   |
33 |     let a = [C {}].my_len();
34 |     assert(a == 1);
35 |     let _ = __dbg([C {}].len());
   |                          ^^^ No method "len([C; 1])" found for type "[C; 1]".
36 |     assert([C {}].len() == 1);
37 | 
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:36:19
   |
34 |     assert(a == 1);
35 |     let _ = __dbg([C {}].len());
36 |     assert([C {}].len() == 1);
   |                   ^^^ No method "len([C; 1])" found for type "[C; 1]".
37 | 
38 |     let b = [C {}, C{}].my_len();
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:36:25
   |
34 |     assert(a == 1);
35 |     let _ = __dbg([C {}].len());
36 |     assert([C {}].len() == 1);
   |                         ^^ No method "eq({unknown}, numeric) -> bool" found for type "{unknown}".
37 | 
38 |     let b = [C {}, C{}].my_len();
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:40:31
   |
38 |     let b = [C {}, C{}].my_len();
39 |     assert(b == 2);
40 |     let _ = __dbg([C {}, C{}].len());
   |                               ^^^ No method "len([C; 2])" found for type "[C; 2]".
41 |     assert([C {}, C{}].len() == 2);
42 | 
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:41:24
   |
39 |     assert(b == 2);
40 |     let _ = __dbg([C {}, C{}].len());
41 |     assert([C {}, C{}].len() == 2);
   |                        ^^^ No method "len([C; 2])" found for type "[C; 2]".
42 | 
43 |     let s: S<u64, 3> = S { };
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:41:30
   |
39 |     assert(b == 2);
40 |     let _ = __dbg([C {}, C{}].len());
41 |     assert([C {}, C{}].len() == 2);
   |                              ^^ No method "eq({unknown}, numeric) -> bool" found for type "{unknown}".
42 | 
43 |     let s: S<u64, 3> = S { };
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:51:14
   |
49 |     // string arrays
50 |     let a: str[3] = __to_str_array("ABC");
51 |     assert(a.len() == 3);
   |              ^^^ No method "len(str[3])" found for type "str[3]".
52 |     let _ = __dbg(a.len());
53 | 
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:51:20
   |
49 |     // string arrays
50 |     let a: str[3] = __to_str_array("ABC");
51 |     assert(a.len() == 3);
   |                    ^^ No method "eq({unknown}, numeric) -> bool" found for type "{unknown}".
52 |     let _ = __dbg(a.len());
53 | 
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:52:21
   |
50 |     let a: str[3] = __to_str_array("ABC");
51 |     assert(a.len() == 3);
52 |     let _ = __dbg(a.len());
   |                     ^^^ No method "len(str[3])" found for type "str[3]".
53 | 
54 |     let a: str[5] = __to_str_array("ABCDE");
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:55:14
   |
53 | 
54 |     let a: str[5] = __to_str_array("ABCDE");
55 |     assert(a.len() == 5);
   |              ^^^ No method "len(str[5])" found for type "str[5]".
56 |     let _ = __dbg(a.len());
57 | }
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:55:20
   |
53 | 
54 |     let a: str[5] = __to_str_array("ABCDE");
55 |     assert(a.len() == 5);
   |                    ^^ No method "eq({unknown}, numeric) -> bool" found for type "{unknown}".
56 |     let _ = __dbg(a.len());
57 | }
   |
____

error
  --> test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics/src/main.sw:56:21
   |
54 |     let a: str[5] = __to_str_array("ABCDE");
55 |     assert(a.len() == 5);
56 |     let _ = __dbg(a.len());
   |                     ^^^ No method "len(str[5])" found for type "str[5]".
57 | }
58 | 
   |
____

  Aborting due to 16 errors.
>>>>>>> cosnt generics for string array and len methods
error: Failed to compile const_generics

> forc test --path test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics --experimental const_generics --test-threads 1 --logs --revert-codes
exit status: 0
output:
    Building test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics
   Compiling library std (sway-lib-std)
   Compiling script const_generics (test/src/e2e_vm_tests/test_programs/should_pass/language/const_generics)
<<<<<<< HEAD
    Finished debug [unoptimized + fuel] target(s) [5.048 KB] in ???
=======
    Finished debug [unoptimized + fuel] target(s) [3.952 KB] in ???
>>>>>>> cosnt generics for string array and len methods
     Running 1 test, filtered 0 tests

tested -- const_generics

<<<<<<< HEAD
      test run_main ... ok (???, 8053 gas)
[src/main.sw:65:13] a = [1, 2]
[src/main.sw:74:13] s.len_xxx() = 3
[src/main.sw:80:13] e = OneVariant([1, 2, 3])
[src/main.sw:85:13] e = Nothing
[src/main.sw:90:13] return_n::<3>() = 3
[src/main.sw:91:13] return_n::<5>() = 3
=======
      test run_main ... ok (???, 7415 gas)
[src/main.sw:31:13] a = [1, 2]
[src/main.sw:35:13] [C {}].len() = 1
[src/main.sw:40:13] [C {}, C {}].len() = 2
[src/main.sw:44:13] s.len_xxx() = 3
[src/main.sw:46:13] return_n::<3>() = 3
[src/main.sw:47:13] return_n::<5>() = 5
[src/main.sw:52:13] a.len() = 3
[src/main.sw:56:13] a.len() = 5
>>>>>>> cosnt generics for string array and len methods

test result: OK. 1 passed; 0 failed; finished in ???

    Finished in ???
