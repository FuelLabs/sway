---
source: test/src/snapshot/mod.rs
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_empty --release --ir final --asm final --bytecode
exit status: 0
output:
    Building test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_empty
   Compiling library std (test/src/e2e_vm_tests/reduced_std_libs/sway-lib-std-core)
// IR: Final
library {
}

DIFF------------------------------
.program:
DIFF------------------------------
.program:
;; --- START OF TARGET BYTECODE ---

0x00000000 MOVE R60 $pc                                    ;; [26, 240, 48, 0]
0x00000004 JMPF $zero 0x4                                  ;; [116, 0, 0, 4]
0x00000008                                                 ;; [0, 0, 0, 0, 0, 0, 0, 32]
0x00000010                                                 ;; [0, 0, 0, 0, 0, 0, 0, 0]
0x00000018 LW R63 R60 0x1                                  ;; [93, 255, 192, 1]
0x0000001c ADD R63 R63 R60                                 ;; [16, 255, 255, 0]
.data_section:
;; --- END OF TARGET BYTECODE ---

   Compiling script main_args_empty (test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_empty)
// IR: Final
script {
    pub entry fn __entry() -> __ptr never, !3 {
        entry():
        v11v1 = call main_0(), !6
        v14v1 = const u64 0, !7
        v15v1 = const u64 0, !8
        retd v14v1 v15v1, !9
    }

    entry_orig fn main_0() -> (), !13 {
        entry():
        v9v1 = const unit ()
        ret () v9v1
    }
}

!0 = "test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_empty/src/main.<autogenerated>.sw"
!1 = span !0 0 116
!2 = fn_name_span !0 7 14
!3 = (!1 !2)
!4 = span !0 58 64
!5 = fn_call_path_span !0 58 62
!6 = (!4 !5)
!7 = span !0 97 98
!8 = span !0 100 101
!9 = span !0 82 102
!10 = "test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_empty/src/main.sw"
!11 = span !10 9 22
!12 = fn_name_span !10 12 16
!13 = (!11 !12)

DIFF------------------------------
.program:
DIFF------------------------------
.program:
DIFF------------------------------
.program:
.0                                      ; --- start of function: __entry ---
move $$locbase $sp                      ; save locals base register for function __entry
cfei i0                                 ; allocate 0 bytes for locals and 0 slots for call arguments
.4
fncall .2                               ; [call]: call main_0
 move $r1 $zero                          ; [call]: return unit value
 movi $r1 i0                             ; [call]: return unit value
retd $zero $zero
DIFF------------------------------
.program:
.0                                      ; --- start of function: __entry ---
move $$locbase $sp                      ; save locals base register for function __entry
.4
fncall .2                               ; [call]: call main_0
retd $zero $zero
DIFF------------------------------
.program:
.0                                      ; --- start of function: __entry ---
move $$locbase $sp                      ; save locals base register for function __entry
.4
fncall .2                               ; [call]: call main_0
retd $zero $zero
DIFF------------------------------
.program:
.0                                      ; --- start of function: __entry ---
move $$locbase $sp                      ; save locals base register for function __entry
.4
fncall .2                               ; [call]: call main_0
retd $zero $zero
DIFF------------------------------
.program:
.2                                      ; --- start of function: main_0 ---
pusha .2                                ; save all registers
move $$locbase $sp                      ; save locals base register for function main_0
cfei i0                                 ; allocate 0 bytes for locals and 0 slots for call arguments
.5
ji  .3
.3
cfsi i0                                 ; free 0 bytes for locals and 0 slots for extra call arguments
popa .2                                 ; restore all registers
jal $zero $$reta i0                     ; return from call
DIFF------------------------------
.program:
.2                                      ; --- start of function: main_0 ---
pusha .2                                ; save all registers
move $$locbase $sp                      ; save locals base register for function main_0
.5
.3
popa .2                                 ; restore all registers
jal $zero $$reta i0                     ; return from call
DIFF------------------------------
.program:
.2                                      ; --- start of function: main_0 ---
pusha .2                                ; save all registers
move $$locbase $sp                      ; save locals base register for function main_0
.5
.3
popa .2                                 ; restore all registers
jal $zero $$reta i0                     ; return from call
DIFF------------------------------
.program:
.2                                      ; --- start of function: main_0 ---
pusha .2                                ; save all registers
move $$locbase $sp                      ; save locals base register for function main_0
.5
.3
popa .2                                 ; restore all registers
jal $zero $$reta i0                     ; return from call
;; ASM: Final program
;; Program kind: Script
.program:
move $$tmp $pc
jmpf $zero i4
DATA_SECTION_OFFSET[0..32]
DATA_SECTION_OFFSET[32..64]
CONFIGURABLES_OFFSET[0..32]
CONFIGURABLES_OFFSET[32..64]
lw   $$ds $$tmp i1
add  $$ds $$ds $$tmp
cfei i0                       ; allocate stack space for globals
move $$locbase $sp            ; [entry init: __entry]: set locals base register
jal  $$reta $pc i2            ; [call: main_0]: call function
retd  $zero $zero             ; [entry end: __entry] return slice
pshh i524288                  ; [fn init: main_0]: push used high registers 40..64
poph i524288                  ; [fn end: main_0]: restore used high registers 40..64
jal  $zero $$reta i0          ; [fn end: main_0] return from call
.data:


;; --- START OF TARGET BYTECODE ---

0x00000000 MOVE R60 $pc                                    ;; [26, 240, 48, 0]
0x00000004 JMPF $zero 0x4                                  ;; [116, 0, 0, 4]
0x00000008                                                 ;; [0, 0, 0, 0, 0, 0, 0, 56]
0x00000010                                                 ;; [0, 0, 0, 0, 0, 0, 0, 0]
0x00000018 LW R63 R60 0x1                                  ;; [93, 255, 192, 1]
0x0000001c ADD R63 R63 R60                                 ;; [16, 255, 255, 0]
0x00000020 MOVE R59 $sp                                    ;; [26, 236, 80, 0]
0x00000024 JAL R62 $pc 0x2                                 ;; [153, 248, 48, 2]
0x00000028 RETD $zero $zero                                ;; [37, 0, 0, 0]
0x0000002c PSHH 0x80000                                    ;; [150, 8, 0, 0]
0x00000030 POPH 0x80000                                    ;; [152, 8, 0, 0]
0x00000034 JAL $zero R62 0x0                               ;; [153, 3, 224, 0]
.data_section:
;; --- END OF TARGET BYTECODE ---

    Finished release [optimized + fuel] target(s) [56 B] in ???
