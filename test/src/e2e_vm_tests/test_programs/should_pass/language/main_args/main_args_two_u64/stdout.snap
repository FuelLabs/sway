---
source: test/src/snapshot/mod.rs
snapshot_kind: text
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_two_u64 --release --ir final --asm final --bytecode
exit status: 0
output:
    Building test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_two_u64
   Compiling library std (test/src/e2e_vm_tests/reduced_std_libs/sway-lib-std-core)
// IR: Final
library {
}

;; --- START OF TARGET BYTECODE ---

0x00000000 MOVE R60 $pc                                    ;; [26, 240, 48, 0]
0x00000004 JMPF $zero 0x4                                  ;; [116, 0, 0, 4]
0x00000008                                                 ;; [0, 0, 0, 0, 0, 0, 0, 32]
0x00000010                                                 ;; [0, 0, 0, 0, 0, 0, 0, 0]
0x00000018 LW R63 R60 0x1                                  ;; [93, 255, 192, 1]
0x0000001c ADD R63 R63 R60                                 ;; [16, 255, 255, 0]
.data_section:
;; --- END OF TARGET BYTECODE ---

   Compiling script main_args_two_u64 (test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_two_u64)
// IR: Final
script {
    pub entry fn __entry() -> __ptr never, !3 {
        local mut { u64, u64 } __aggr_memcpy_0
        local { ptr } __anon_0
        local { u64, u64 } __anon_00
        local { u64, u64 } __tmp_block_arg
        local u64 _result
        local { u64, u64 } args
        local mut { ptr } buffer

        entry():
<<<<<<< HEAD
        v8v1 = const u64 0, !5
        v373v1 = gtf v8v1, 10, !11
        v374v1 = bitcast v373v1 to ptr, !12
        v380v1 = get_local __ptr { ptr }, buffer, !14
        v21v1 = const u64 0
        v381v1 = get_elem_ptr v380v1, __ptr ptr, v21v1, !15
        store v374v1 to v381v1, !16
        v387v1 = get_local __ptr { ptr }, buffer, !18
        v39v1 = const u64 0
        v391v3 = get_elem_ptr v387v1, __ptr ptr, v39v1, !26
        v493v1 = load v391v3, !27
        v494v1 = asm(ptr: v493v1, val) -> u64 val, !29 {
            lw     val ptr i0, !30
        }
        v496v1 = load v391v3, !31
        v497v1 = const u64 8, !32
        v498v1 = add v496v1, v497v1, !33
        store v498v1 to v391v3, !35
        v503v1 = load v391v3, !38
        v504v1 = asm(ptr: v503v1, val) -> u64 val, !39 {
            lw     val ptr i0, !30
        }
        v506v1 = load v391v3, !40
        v507v1 = const u64 8, !41
        v508v1 = add v506v1, v507v1, !42
        store v508v1 to v391v3, !43
        v394v1 = get_local __ptr { u64, u64 }, args, !45
        v72v1 = const u64 0
        v395v1 = get_elem_ptr v394v1, __ptr u64, v72v1, !46
        store v494v1 to v395v1, !47
        v75v1 = const u64 1
        v397v1 = get_elem_ptr v394v1, __ptr u64, v75v1, !48
        store v504v1 to v397v1, !49
        v111v1 = get_local __ptr { u64, u64 }, args, !50
        v112v1 = const u64 0
        v113v1 = get_elem_ptr v111v1, __ptr u64, v112v1, !51
        v114v1 = load v113v1
        v115v1 = get_local __ptr { u64, u64 }, args, !52
        v116v1 = const u64 1
        v117v1 = get_elem_ptr v115v1, __ptr u64, v116v1, !53
        v118v1 = load v117v1
        v119v1 = call main_5(v114v1, v118v1), !56
        v407v1 = get_local __ptr u64, item_, !59
        store v119v1 to v407v1, !59
        v489v1 = get_local __ptr u64, item_, !61
        v148v1 = const u64 8
        retd v489v1 v148v1, !63
=======
        v0 = const u64 0, !5
        v1 = gtf v0, 10, !11
        v2 = bitcast v1 to ptr, !12
        v3 = const bool true, !13
        cbr v3, decode_script_data_0_decode_from_raw_ptr_1_block0(), decode_script_data_0_decode_from_raw_ptr_1_block1(), !17

        decode_script_data_0_decode_from_raw_ptr_1_block0():
        v4 = cast_ptr v2 to __ptr { u64, u64 }, !18
        v5 = get_local __ptr { u64, u64 }, __aggr_memcpy_0
        mem_copy_val v5, v4
<<<<<<< HEAD
        v6 = get_local __ptr { u64, u64 }, args, !17
        v7 = const u64 0
<<<<<<< HEAD
        v8 = get_elem_ptr v6, __ptr ptr, v7, !28
        v9 = load v8, !29
        v10 = asm(ptr: v9, val) -> u64 val, !31 {
            lw     val ptr i0, !32
        }
        v11 = load v8, !33
        v12 = const u64 8, !34
        v13 = add v11, v12, !35
        store v13 to v8, !37
        v14 = load v8, !40
        v15 = asm(ptr: v14, val) -> u64 val, !41 {
            lw     val ptr i0, !32
        }
        v16 = load v8, !42
        v17 = const u64 8, !43
        v18 = add v16, v17, !44
        store v18 to v8, !45
        v19 = get_local __ptr { u64, u64 }, args, !47
        v20 = const u64 0
        v21 = get_elem_ptr v19, __ptr u64, v20, !48
        store v10 to v21, !49
        v22 = const u64 1
        v23 = get_elem_ptr v19, __ptr u64, v22, !50
        store v15 to v23, !51
        v24 = get_local __ptr { u64, u64 }, args, !52
        v25 = const u64 0
        v26 = get_elem_ptr v24, __ptr u64, v25, !53
        v27 = load v26
        v28 = get_local __ptr { u64, u64 }, args, !54
        v29 = const u64 1
        v30 = get_elem_ptr v28, __ptr u64, v29, !55
        v31 = load v30
        v32 = call main_8(v27, v31), !58
        v33 = get_local __ptr u64, _result, !59
        store v32 to v33, !59
        v34 = get_local __ptr u64, _result, !60
        v35 = const u64 8
        retd v34 v35, !64
>>>>>>> 2b4c2d140 (update snapshot tests)
=======
        v8 = get_elem_ptr v6, __ptr u64, v7, !18
        v9 = load v8
        v10 = get_local __ptr { u64, u64 }, args, !19
        v11 = const u64 1
        v12 = get_elem_ptr v10, __ptr u64, v11, !20
        v13 = load v12
        v14 = call main_9(v9, v13), !23
        v15 = get_local __ptr u64, _result, !24
        store v14 to v15, !24
        v16 = get_local __ptr u64, _result, !25
        v17 = const u64 8
        retd v16 v17, !29
>>>>>>> ed22272e6 (update tests)
=======
        v6 = get_local __ptr { u64, u64 }, __tmp_block_arg
        mem_copy_val v6, v5
        br decode_script_data_0_decode_from_raw_ptr_1_block2(v6), !19

        decode_script_data_0_decode_from_raw_ptr_1_block1():
        v7 = get_local __ptr { ptr }, __anon_0, !21
        v8 = const u64 0
        v9 = get_elem_ptr v7, __ptr ptr, v8, !22
        store v2 to v9, !23
        v10 = get_local __ptr { ptr }, buffer, !25
        mem_copy_val v10, v7
        v11 = get_local __ptr { ptr }, buffer, !27
        v12 = const u64 0
        v13 = get_elem_ptr v11, __ptr ptr, v12, !35
        v14 = load v13, !36
        v15 = asm(ptr: v14, val) -> u64 val, !38 {
            lw     val ptr i0, !39
        }
        v16 = load v13, !40
        v17 = const u64 8, !41
        v18 = add v16, v17, !42
        store v18 to v13, !44
        v19 = load v13, !47
        v20 = asm(ptr: v19, val) -> u64 val, !48 {
            lw     val ptr i0, !39
        }
        v21 = load v13, !49
        v22 = const u64 8, !50
        v23 = add v21, v22, !51
        store v23 to v13, !52
        v24 = get_local __ptr { u64, u64 }, __anon_00, !54
        v25 = const u64 0
        v26 = get_elem_ptr v24, __ptr u64, v25, !55
        store v15 to v26, !56
        v27 = const u64 1
        v28 = get_elem_ptr v24, __ptr u64, v27, !57
        store v20 to v28, !58
        v29 = get_local __ptr { u64, u64 }, __tmp_block_arg
        mem_copy_val v29, v24
        br decode_script_data_0_decode_from_raw_ptr_1_block2(v29), !59

        decode_script_data_0_decode_from_raw_ptr_1_block2(v30: __ptr { u64, u64 }):
        v31 = get_local __ptr { u64, u64 }, args, !60
        mem_copy_val v31, v30
        v32 = get_local __ptr { u64, u64 }, args, !61
        v33 = const u64 0
        v34 = get_elem_ptr v32, __ptr u64, v33, !62
        v35 = load v34
        v36 = get_local __ptr { u64, u64 }, args, !63
        v37 = const u64 1
        v38 = get_elem_ptr v36, __ptr u64, v37, !64
        v39 = load v38
        v40 = call main_11(v35, v39), !67
        v41 = get_local __ptr u64, _result, !68
        store v40 to v41, !68
        v42 = get_local __ptr u64, _result, !69
        v43 = const u64 8
        retd v42 v43, !73
>>>>>>> 31354594f (update tests)
    }

    entry_orig fn main_11(baba !75: u64, keke !76: u64) -> u64, !79 {
        entry(baba: u64, keke: u64):
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
        v306v1 = add baba, keke, !72
        ret u64 v306v1
=======
        v0 = add baba, keke, !73
=======
        v0 = add baba, keke, !38
>>>>>>> ed22272e6 (update tests)
=======
        v0 = add baba, keke, !82
>>>>>>> 31354594f (update tests)
        ret u64 v0
>>>>>>> 2b4c2d140 (update snapshot tests)
    }
}

!0 = "test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_two_u64/src/main.<autogenerated>.sw"
!1 = span !0 0 222
!2 = fn_name_span !0 7 14
!3 = (!1 !2)
!4 = "test/src/e2e_vm_tests/reduced_std_libs/sway-lib-std-core/src/codec.sw"
!5 = span !4 1542 1543
!6 = span !0 64 99
!7 = fn_call_path_span !0 64 82
!8 = span !4 184944 184976
!9 = fn_call_path_span !4 184944 184974
!10 = span !4 1525 1549
!11 = (!6 !7 !8 !9 !10)
!12 = (!6 !7 !8 !9 !10)
!13 = span !4 95125 95129
!14 = span !4 184919 184977
!15 = fn_call_path_span !4 184919 184938
!16 = span !4 184659 184683
!17 = (!6 !7 !14 !15 !16)
!18 = (!6 !7 !14 !15)
!19 = (!6 !7 !14 !15)
!20 = span !4 184792 184812
!21 = (!6 !7 !14 !15 !20)
!22 = (!6 !7 !14 !15)
!23 = (!6 !7 !14 !15 !20)
!24 = span !4 184775 184813
!25 = (!6 !7 !14 !15 !24)
!26 = span !4 184836 184842
!27 = (!6 !7 !14 !15 !26)
!28 = span !4 184822 184843
!29 = fn_call_path_span !4 184822 184835
!30 = span !4 148317 148338
!31 = fn_call_path_span !4 148317 148330
!32 = span !4 95201 95229
!33 = fn_call_path_span !4 95208 95220
!34 = span !4 625 641
!35 = (!6 !7 !14 !15 !28 !29 !30 !31 !32 !33 !34)
!36 = (!6 !7 !14 !15 !28 !29 !30 !31 !32 !33)
!37 = span !4 2212 2293
!38 = (!6 !7 !14 !15 !28 !29 !30 !31 !32 !33 !37)
!39 = span !4 2250 2263
!40 = (!6 !7 !14 !15 !28 !29 !30 !31 !32 !33)
!41 = (!6 !7 !14 !15 !28 !29 !30 !31 !32 !33)
!42 = (!6 !7 !14 !15 !28 !29 !30 !31 !32 !33)
!43 = span !4 2303 2342
!44 = (!6 !7 !14 !15 !28 !29 !30 !31 !32 !33 !43)
!45 = span !4 148340 148361
!46 = fn_call_path_span !4 148340 148353
!47 = (!6 !7 !14 !15 !28 !29 !45 !46 !32 !33)
!48 = (!6 !7 !14 !15 !28 !29 !45 !46 !32 !33 !37)
!49 = (!6 !7 !14 !15 !28 !29 !45 !46 !32 !33)
!50 = (!6 !7 !14 !15 !28 !29 !45 !46 !32 !33)
!51 = (!6 !7 !14 !15 !28 !29 !45 !46 !32 !33)
!52 = (!6 !7 !14 !15 !28 !29 !45 !46 !32 !33 !43)
!53 = span !4 148316 148362
!54 = (!6 !7 !14 !15 !28 !29 !53)
!55 = (!6 !7 !14 !15 !28 !29 !53)
!56 = (!6 !7 !14 !15 !28 !29 !53)
!57 = (!6 !7 !14 !15 !28 !29 !53)
!58 = (!6 !7 !14 !15 !28 !29 !53)
!59 = (!6 !7 !14 !15)
!60 = span !0 40 100
!61 = span !0 141 145
!62 = span !0 146 147
!63 = span !0 149 153
!64 = span !0 154 155
!65 = span !0 136 156
!66 = fn_call_path_span !0 136 140
!67 = (!65 !66)
!68 = span !0 117 157
!69 = span !0 200 207
!70 = span !0 174 208
!71 = fn_call_path_span !0 174 191
!72 = span !4 93230 93256
!73 = (!70 !71 !72)
!74 = "test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_two_u64/src/main.sw"
!75 = span !74 17 21
!76 = span !74 28 32
!77 = span !74 9 65
!78 = fn_name_span !74 12 16
!79 = (!77 !78)
!80 = span !74 52 63
!81 = fn_call_path_span !74 57 58
!82 = (!80 !81)

;; ASM: Final program
;; Program kind: Script
.program:
move $$tmp $pc
jmpf $zero i4
DATA_SECTION_OFFSET[0..32]
DATA_SECTION_OFFSET[32..64]
CONFIGURABLES_OFFSET[0..32]
CONFIGURABLES_OFFSET[32..64]
lw   $$ds $$tmp i1
add  $$ds $$ds $$tmp
cfei i0                       ; allocate stack space for globals
move $$locbase $sp            ; save locals base register for function __entry
cfei i88                      ; allocate 88 bytes for locals and 0 slots for call arguments
gtf  $r0 $zero i10            ; get transaction field
mcpi $$locbase $r0 i16        ; copy memory
addi $r0 $$locbase i40        ; get offset to local __ptr { u64, u64 }
mcpi $r0 $$locbase i16        ; copy memory
addi $r1 $$locbase i64        ; get offset to local __ptr { u64, u64 }
mcpi $r1 $r0 i16              ; copy memory
lw   $r0 $$locbase i8         ; load word
lw   $r1 $$locbase i9         ; load word
move $$arg0 $r0               ; [call]: pass argument 0
move $$arg1 $r1               ; [call]: pass argument 1
jal  $$reta $pc i5            ; [call]: call main_11
sw   $$locbase $$retv i7      ; store word
addi $r0 $$locbase i56        ; get offset to local __ptr u64
movi $r1 i8                   ; initialize constant into register
retd  $r0 $r1
pshl i1                       ; save registers 16..40
pshh i524288                  ; save registers 40..64
move $$locbase $sp            ; save locals base register for function main_11
add  $r0 $$arg0 $$arg1
move $$retv $r0               ; set return value
poph i524288                  ; restore registers 40..64
popl i1                       ; restore registers 16..40
jal  $zero $$reta i0          ; return from call
.data:


;; --- START OF TARGET BYTECODE ---

0x00000000 MOVE R60 $pc                                    ;; [26, 240, 48, 0]
0x00000004 JMPF $zero 0x4                                  ;; [116, 0, 0, 4]
0x00000008                                                 ;; [0, 0, 0, 0, 0, 0, 0, 136]
0x00000010                                                 ;; [0, 0, 0, 0, 0, 0, 0, 0]
0x00000018 LW R63 R60 0x1                                  ;; [93, 255, 192, 1]
0x0000001c ADD R63 R63 R60                                 ;; [16, 255, 255, 0]
0x00000020 MOVE R59 $sp                                    ;; [26, 236, 80, 0]
0x00000024 CFEI 0x58                                       ;; [145, 0, 0, 88]
0x00000028 GTF $writable $zero 0xa                         ;; [97, 64, 0, 10]
0x0000002c MCPI R59 $writable 0x10                         ;; [96, 237, 0, 16]
0x00000030 ADDI $writable R59 0x28                         ;; [80, 67, 176, 40]
0x00000034 MCPI $writable R59 0x10                         ;; [96, 67, 176, 16]
0x00000038 ADDI R17 R59 0x40                               ;; [80, 71, 176, 64]
0x0000003c MCPI R17 $writable 0x10                         ;; [96, 69, 0, 16]
0x00000040 LW $writable R59 0x8                            ;; [93, 67, 176, 8]
0x00000044 LW R17 R59 0x9                                  ;; [93, 71, 176, 9]
0x00000048 MOVE R58 $writable                              ;; [26, 233, 0, 0]
0x0000004c MOVE R57 R17                                    ;; [26, 229, 16, 0]
0x00000050 JAL R62 $pc 0x5                                 ;; [153, 248, 48, 5]
0x00000054 SW R59 R61 0x7                                  ;; [95, 239, 208, 7]
0x00000058 ADDI $writable R59 0x38                         ;; [80, 67, 176, 56]
0x0000005c MOVI R17 0x8                                    ;; [114, 68, 0, 8]
0x00000060 RETD $writable R17                              ;; [37, 65, 16, 0]
0x00000064 PSHL 0x1                                        ;; [149, 0, 0, 1]
0x00000068 PSHH 0x80000                                    ;; [150, 8, 0, 0]
0x0000006c MOVE R59 $sp                                    ;; [26, 236, 80, 0]
0x00000070 ADD $writable R58 R57                           ;; [16, 67, 174, 64]
0x00000074 MOVE R61 $writable                              ;; [26, 245, 0, 0]
0x00000078 POPH 0x80000                                    ;; [152, 8, 0, 0]
0x0000007c POPL 0x1                                        ;; [151, 0, 0, 1]
0x00000080 JAL $zero R62 0x0                               ;; [153, 3, 224, 0]
0x00000084 NOOP                                            ;; [71, 0, 0, 0]
.data_section:
;; --- END OF TARGET BYTECODE ---

    Finished release [optimized + fuel] target(s) [136 B] in ???
