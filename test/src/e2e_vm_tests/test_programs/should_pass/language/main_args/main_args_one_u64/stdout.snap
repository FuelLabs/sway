---
source: test/src/snapshot/mod.rs
snapshot_kind: text
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64 --release --ir final --asm final --bytecode
exit status: 0
output:
    Building test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64
   Compiling library std (test/src/e2e_vm_tests/reduced_std_libs/sway-lib-std-core)
// IR: Final
library {
}

;; --- START OF TARGET BYTECODE ---

0x00000000 MOVE R60 $pc                                    ;; [26, 240, 48, 0]
0x00000004 JMPF $zero 0x4                                  ;; [116, 0, 0, 4]
0x00000008                                                 ;; [0, 0, 0, 0, 0, 0, 0, 32]
0x00000010                                                 ;; [0, 0, 0, 0, 0, 0, 0, 0]
0x00000018 LW R63 R60 0x1                                  ;; [93, 255, 192, 1]
0x0000001c ADD R63 R63 R60                                 ;; [16, 255, 255, 0]
.data_section:
;; --- END OF TARGET BYTECODE ---

   Compiling script main_args_one_u64 (test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64)
// IR: Final
script {
    pub entry fn __entry() -> __ptr never, !3 {
        local u64 _result
        local { u64 } args
        local mut { ptr } buffer

        entry():
<<<<<<< HEAD
        v8v1 = const u64 0, !5
        v397v1 = gtf v8v1, 10, !11
        v398v1 = bitcast v397v1 to ptr, !12
        v404v1 = get_local __ptr { ptr }, buffer, !14
        v21v1 = const u64 0
        v405v1 = get_elem_ptr v404v1, __ptr ptr, v21v1, !15
        store v398v1 to v405v1, !16
        v411v1 = get_local __ptr { ptr }, buffer, !18
        v39v1 = const u64 0
        v419v1 = get_elem_ptr v411v1, __ptr ptr, v39v1, !26
        v420v1 = load v419v1, !27
        v421v1 = asm(ptr: v420v1, val) -> u64 val, !29 {
            lw     val ptr i0, !30
        }
        v425v1 = load v419v1, !31
        v426v1 = const u64 8, !32
        v427v1 = add v425v1, v426v1, !33
        store v427v1 to v419v1, !35
        v434v1 = get_local __ptr { u64 }, args, !37
        v69v1 = const u64 0
        v435v1 = get_elem_ptr v434v1, __ptr u64, v69v1, !38
        store v421v1 to v435v1, !39
        v101v1 = get_local __ptr { u64 }, args, !40
        v102v1 = const u64 0
        v103v1 = get_elem_ptr v101v1, __ptr u64, v102v1, !41
        v104v1 = load v103v1
        v105v1 = call main_5(v104v1), !44
        v445v1 = get_local __ptr u64, item_, !47
        store v105v1 to v445v1, !47
        v527v1 = get_local __ptr u64, item_, !49
        v134v1 = const u64 8
        retd v527v1 v134v1, !51
=======
        v0 = const u64 0, !5
        v1 = gtf v0, 10, !11
        v2 = bitcast v1 to ptr, !12
        v3 = get_local __ptr { ptr }, buffer, !16
        v4 = const u64 0
        v5 = get_elem_ptr v3, __ptr ptr, v4, !17
        store v2 to v5, !18
        v6 = get_local __ptr { ptr }, buffer, !20
        v7 = const u64 0
        v8 = get_elem_ptr v6, __ptr ptr, v7, !28
        v9 = load v8, !29
        v10 = asm(ptr: v9, val) -> u64 val, !31 {
            lw     val ptr i0, !32
        }
        v11 = load v8, !33
        v12 = const u64 8, !34
        v13 = add v11, v12, !35
        store v13 to v8, !37
        v14 = get_local __ptr { u64 }, args, !39
        v15 = const u64 0
        v16 = get_elem_ptr v14, __ptr u64, v15, !40
        store v10 to v16, !41
        v17 = get_local __ptr { u64 }, args, !42
        v18 = const u64 0
        v19 = get_elem_ptr v17, __ptr u64, v18, !43
        v20 = load v19
        v21 = call main_8(v20), !46
        v22 = get_local __ptr u64, _result, !47
        store v21 to v22, !47
        v23 = get_local __ptr u64, _result, !48
        v24 = const u64 8
        retd v23 v24, !52
>>>>>>> 2b4c2d140 (update snapshot tests)
    }

    entry_orig fn main_8(baba !54: u64) -> u64, !57 {
        entry(baba: u64):
<<<<<<< HEAD
        v98v1 = const u64 1, !57
        v328v1 = add baba, v98v1, !60
        ret u64 v328v1
=======
        v0 = const u64 1, !58
        v1 = add baba, v0, !61
        ret u64 v1
>>>>>>> 2b4c2d140 (update snapshot tests)
    }
}

!0 = "test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64/src/main.<autogenerated>.sw"
!1 = span !0 0 204
!2 = fn_name_span !0 7 14
!3 = (!1 !2)
!4 = "test/src/e2e_vm_tests/reduced_std_libs/sway-lib-std-core/src/codec.sw"
!5 = span !4 1699 1700
!6 = span !0 59 89
!7 = fn_call_path_span !0 59 77
!8 = span !4 160666 160698
!9 = fn_call_path_span !4 160666 160696
!10 = span !4 1682 1706
!11 = (!6 !7 !8 !9 !10)
!12 = (!6 !7 !8 !9 !10)
!13 = span !4 160641 160699
!14 = fn_call_path_span !4 160641 160660
!15 = span !4 160514 160534
!16 = (!6 !7 !13 !14 !15)
!17 = (!6 !7 !13 !14)
!18 = (!6 !7 !13 !14 !15)
!19 = span !4 160558 160564
!20 = (!6 !7 !13 !14 !19)
!21 = span !4 160544 160565
!22 = fn_call_path_span !4 160544 160557
!23 = span !4 134798 134819
!24 = fn_call_path_span !4 134798 134811
!25 = span !4 83379 83407
!26 = fn_call_path_span !4 83386 83398
!27 = span !4 625 641
!28 = (!6 !7 !13 !14 !21 !22 !23 !24 !25 !26 !27)
!29 = (!6 !7 !13 !14 !21 !22 !23 !24 !25 !26)
!30 = span !4 2927 3008
!31 = (!6 !7 !13 !14 !21 !22 !23 !24 !25 !26 !30)
!32 = span !4 2965 2978
!33 = (!6 !7 !13 !14 !21 !22 !23 !24 !25 !26)
!34 = (!6 !7 !13 !14 !21 !22 !23 !24 !25 !26)
!35 = (!6 !7 !13 !14 !21 !22 !23 !24 !25 !26)
!36 = span !4 3018 3057
!37 = (!6 !7 !13 !14 !21 !22 !23 !24 !25 !26 !36)
!38 = span !4 134797 134822
!39 = (!6 !7 !13 !14 !21 !22 !38)
!40 = (!6 !7 !13 !14 !21 !22 !38)
!41 = (!6 !7 !13 !14 !21 !22 !38)
!42 = span !0 131 135
!43 = span !0 136 137
!44 = span !0 126 138
!45 = fn_call_path_span !0 126 130
!46 = (!44 !45)
!47 = span !0 107 139
!48 = span !0 182 189
!49 = span !0 156 190
!50 = fn_call_path_span !0 156 173
!51 = span !4 81408 81434
!52 = (!49 !50 !51)
!53 = "test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64/src/main.sw"
!54 = span !53 17 21
!55 = span !53 9 51
!56 = fn_name_span !53 12 16
!57 = (!55 !56)
!58 = span !53 48 49
!59 = span !53 41 49
!60 = fn_call_path_span !53 46 47
!61 = (!59 !60)

;; ASM: Final program
;; Program kind: Script
.program:
move $$tmp $pc
jmpf $zero i4
DATA_SECTION_OFFSET[0..32]
DATA_SECTION_OFFSET[32..64]
CONFIGURABLES_OFFSET[0..32]
CONFIGURABLES_OFFSET[32..64]
lw   $$ds $$tmp i1
add  $$ds $$ds $$tmp
cfei i0                       ; allocate stack space for globals
move $$locbase $sp            ; save locals base register for function __entry
cfei i24                      ; allocate 24 bytes for locals and 0 slots for call arguments
gtf  $r0 $zero i10            ; get transaction field
sw   $$locbase $r0 i2         ; store word
lw   $r0 $$locbase i2         ; load word
lw   $r0 $r0 i0               ; lw val ptr i0
lw   $r1 $$locbase i2         ; load word
movi $r2 i8                   ; initialize constant into register
add  $r1 $r1 $r2
sw   $$locbase $r1 i2         ; store word
sw   $$locbase $r0 i1         ; store word
lw   $r0 $$locbase i1         ; load word
move $$arg0 $r0               ; [call]: pass argument 0
jal  $$reta $pc i4            ; [call]: call main_8
sw   $$locbase $$retv i0      ; store word
movi $r0 i8                   ; initialize constant into register
retd  $$locbase $r0
pshl i1                       ; save registers 16..40
pshh i524288                  ; save registers 40..64
move $$locbase $sp            ; save locals base register for function main_8
add  $r0 $$arg0 $one
move $$retv $r0               ; set return value
poph i524288                  ; restore registers 40..64
popl i1                       ; restore registers 16..40
jal  $zero $$reta i0          ; return from call
.data:


;; --- START OF TARGET BYTECODE ---

0x00000000 MOVE R60 $pc                                    ;; [26, 240, 48, 0]
0x00000004 JMPF $zero 0x4                                  ;; [116, 0, 0, 4]
0x00000008                                                 ;; [0, 0, 0, 0, 0, 0, 0, 136]
0x00000010                                                 ;; [0, 0, 0, 0, 0, 0, 0, 0]
0x00000018 LW R63 R60 0x1                                  ;; [93, 255, 192, 1]
0x0000001c ADD R63 R63 R60                                 ;; [16, 255, 255, 0]
0x00000020 MOVE R59 $sp                                    ;; [26, 236, 80, 0]
0x00000024 CFEI 0x18                                       ;; [145, 0, 0, 24]
0x00000028 GTF $writable $zero 0xa                         ;; [97, 64, 0, 10]
0x0000002c SW R59 $writable 0x2                            ;; [95, 237, 0, 2]
0x00000030 LW $writable R59 0x2                            ;; [93, 67, 176, 2]
0x00000034 LW $writable $writable 0x0                      ;; [93, 65, 0, 0]
0x00000038 LW R17 R59 0x2                                  ;; [93, 71, 176, 2]
0x0000003c MOVI R18 0x8                                    ;; [114, 72, 0, 8]
0x00000040 ADD R17 R17 R18                                 ;; [16, 69, 20, 128]
0x00000044 SW R59 R17 0x2                                  ;; [95, 237, 16, 2]
0x00000048 SW R59 $writable 0x1                            ;; [95, 237, 0, 1]
0x0000004c LW $writable R59 0x1                            ;; [93, 67, 176, 1]
0x00000050 MOVE R58 $writable                              ;; [26, 233, 0, 0]
0x00000054 JAL R62 $pc 0x4                                 ;; [153, 248, 48, 4]
0x00000058 SW R59 R61 0x0                                  ;; [95, 239, 208, 0]
0x0000005c MOVI $writable 0x8                              ;; [114, 64, 0, 8]
0x00000060 RETD R59 $writable                              ;; [37, 237, 0, 0]
0x00000064 PSHL 0x1                                        ;; [149, 0, 0, 1]
0x00000068 PSHH 0x80000                                    ;; [150, 8, 0, 0]
0x0000006c MOVE R59 $sp                                    ;; [26, 236, 80, 0]
0x00000070 ADD $writable R58 $one                          ;; [16, 67, 160, 64]
0x00000074 MOVE R61 $writable                              ;; [26, 245, 0, 0]
0x00000078 POPH 0x80000                                    ;; [152, 8, 0, 0]
0x0000007c POPL 0x1                                        ;; [151, 0, 0, 1]
0x00000080 JAL $zero R62 0x0                               ;; [153, 3, 224, 0]
0x00000084 NOOP                                            ;; [71, 0, 0, 0]
.data_section:
;; --- END OF TARGET BYTECODE ---

    Finished release [optimized + fuel] target(s) [136 B] in ???
