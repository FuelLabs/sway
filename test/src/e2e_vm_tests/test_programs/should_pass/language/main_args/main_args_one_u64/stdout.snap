---
source: test/src/snapshot/mod.rs
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64 --release --ir final --asm final --bytecode
exit status: 0
output:
    Building test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64
   Compiling library std (test/src/e2e_vm_tests/reduced_std_libs/sway-lib-std-core)
// IR: Final
library {
}

;; --- START OF TARGET BYTECODE ---

0x00000000 MOVE R60 $pc                                    ;; [26, 240, 48, 0]
0x00000004 JMPF $zero 0x4                                  ;; [116, 0, 0, 4]
0x00000008                                                 ;; [0, 0, 0, 0, 0, 0, 0, 32]
0x00000010                                                 ;; [0, 0, 0, 0, 0, 0, 0, 0]
0x00000018 LW R63 R60 0x1                                  ;; [93, 255, 192, 1]
0x0000001c ADD R63 R63 R60                                 ;; [16, 255, 255, 0]
.data_section:
;; --- END OF TARGET BYTECODE ---

   Compiling script main_args_one_u64 (test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64)
// IR: Final
script {
    pub entry fn __entry() -> __ptr never, !3 {
        local mut { u64 } __aggr_memcpy_0
        local u64 _result
        local { u64 } args

        entry():
        v104v1 = const u64 0, !5
        v530v1 = gtf v104v1, 10, !11
        v531v1 = bitcast v530v1 to ptr, !12
        v584v1 = cast_ptr v531v1 to __ptr { u64 }, !15
        v676v1 = get_local __ptr { u64 }, __aggr_memcpy_0
        mem_copy_val v676v1, v584v1
        v112v1 = get_local __ptr { u64 }, args, !16
        mem_copy_val v112v1, v676v1
        v134v1 = get_local __ptr { u64 }, args, !17
        v135v1 = const u64 0
        v136v1 = get_elem_ptr v134v1, __ptr u64, v135v1, !18
        v137v1 = load v136v1
        v138v1 = call main_11(v137v1), !21
        v139v1 = get_local __ptr u64, _result, !22
        store v138v1 to v139v1, !22
        v258v1 = get_local __ptr u64, _result, !23
        v149v1 = const u64 8
        retd v258v1 v149v1, !27
    }

    entry_orig fn main_11(baba !29: u64) -> u64, !32 {
        entry(baba: u64):
        v131v1 = const u64 1, !33
        v456v1 = add baba, v131v1, !36
        ret u64 v456v1
    }
}

!0 = "test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64/src/main.<autogenerated>.sw"
!1 = span !0 0 204
!2 = fn_name_span !0 7 14
!3 = (!1 !2)
!4 = "test/src/e2e_vm_tests/reduced_std_libs/sway-lib-std-core/src/codec.sw"
!5 = span !4 1542 1543
!6 = span !0 59 89
!7 = fn_call_path_span !0 59 77
!8 = span !4 186088 186120
!9 = fn_call_path_span !4 186088 186118
!10 = span !4 1525 1549
!11 = (!6 !7 !8 !9 !10)
!12 = (!6 !7 !8 !9 !10)
!13 = span !4 186063 186121
!14 = fn_call_path_span !4 186063 186082
!15 = (!6 !7 !13 !14)
!16 = span !0 40 90
!17 = span !0 131 135
!18 = span !0 136 137
!19 = span !0 126 138
!20 = fn_call_path_span !0 126 130
!21 = (!19 !20)
!22 = span !0 107 139
!23 = span !0 182 189
!24 = span !0 156 190
!25 = fn_call_path_span !0 156 173
!26 = span !4 93998 94024
!27 = (!24 !25 !26)
!28 = "test/src/e2e_vm_tests/test_programs/should_pass/language/main_args/main_args_one_u64/src/main.sw"
!29 = span !28 17 21
!30 = span !28 9 51
!31 = fn_name_span !28 12 16
!32 = (!30 !31)
!33 = span !28 48 49
!34 = span !28 41 49
!35 = fn_call_path_span !28 46 47
!36 = (!34 !35)

;; ASM: Final program
;; Program kind: Script
.program:
move $$tmp $pc
jmpf $zero i4
DATA_SECTION_OFFSET[0..32]
DATA_SECTION_OFFSET[32..64]
CONFIGURABLES_OFFSET[0..32]
CONFIGURABLES_OFFSET[32..64]
lw   $$ds $$tmp i1
add  $$ds $$ds $$tmp
cfei i0                       ; allocate stack space for globals
move $$locbase $sp            ; [entry fn prologue: __entry]: set locals base register
cfei i24                      ; [entry fn prologue: __entry]: allocate: locals 24 byte(s), call args 0 slot(s)
gtf  $r0 $zero i10            ; get transaction field
mcpi $$locbase $r0 i8         ; copy memory
addi $r0 $$locbase i16        ; get offset to local __ptr { u64 }
mcpi $r0 $$locbase i8         ; copy memory
lw   $r0 $$locbase i2         ; load word
move $$arg0 $r0               ; [call: main_11]: pass argument 0
jal  $$reta $pc i5            ; [call: main_11]: call function
sw   $$locbase $$retv i1      ; store word
addi $r0 $$locbase i8         ; get offset to local __ptr u64
movi $r1 i8                   ; initialize constant into register
retd  $r0 $r1                 ; [entry fn epilogue: __entry] return slice
pshl i1                       ; [fn prologue: main_11]: push used low registers 16..40
pshh i524288                  ; [fn prologue: main_11]: push used high registers 40..64
add  $r0 $$arg0 $one
move $$retv $r0               ; [fn epilogue: main_11] set return value
poph i524288                  ; [fn epilogue: main_11]: restore used high registers 40..64
popl i1                       ; [fn epilogue: main_11]: restore used low registers 16..40
jal  $zero $$reta i0          ; [fn epilogue: main_11] return from call
.data:


;; --- START OF TARGET BYTECODE ---

0x00000000 MOVE R60 $pc                                    ;; [26, 240, 48, 0]
0x00000004 JMPF $zero 0x4                                  ;; [116, 0, 0, 4]
0x00000008                                                 ;; [0, 0, 0, 0, 0, 0, 0, 112]
0x00000010                                                 ;; [0, 0, 0, 0, 0, 0, 0, 0]
0x00000018 LW R63 R60 0x1                                  ;; [93, 255, 192, 1]
0x0000001c ADD R63 R63 R60                                 ;; [16, 255, 255, 0]
0x00000020 MOVE R59 $sp                                    ;; [26, 236, 80, 0]
0x00000024 CFEI 0x18                                       ;; [145, 0, 0, 24]
0x00000028 GTF $writable $zero 0xa                         ;; [97, 64, 0, 10]
0x0000002c MCPI R59 $writable 0x8                          ;; [96, 237, 0, 8]
0x00000030 ADDI $writable R59 0x10                         ;; [80, 67, 176, 16]
0x00000034 MCPI $writable R59 0x8                          ;; [96, 67, 176, 8]
0x00000038 LW $writable R59 0x2                            ;; [93, 67, 176, 2]
0x0000003c MOVE R58 $writable                              ;; [26, 233, 0, 0]
0x00000040 JAL R62 $pc 0x5                                 ;; [153, 248, 48, 5]
0x00000044 SW R59 R61 0x1                                  ;; [95, 239, 208, 1]
0x00000048 ADDI $writable R59 0x8                          ;; [80, 67, 176, 8]
0x0000004c MOVI R17 0x8                                    ;; [114, 68, 0, 8]
0x00000050 RETD $writable R17                              ;; [37, 65, 16, 0]
0x00000054 PSHL 0x1                                        ;; [149, 0, 0, 1]
0x00000058 PSHH 0x80000                                    ;; [150, 8, 0, 0]
0x0000005c ADD $writable R58 $one                          ;; [16, 67, 160, 64]
0x00000060 MOVE R61 $writable                              ;; [26, 245, 0, 0]
0x00000064 POPH 0x80000                                    ;; [152, 8, 0, 0]
0x00000068 POPL 0x1                                        ;; [151, 0, 0, 1]
0x0000006c JAL $zero R62 0x0                               ;; [153, 3, 224, 0]
.data_section:
;; --- END OF TARGET BYTECODE ---

    Finished release [optimized + fuel] target(s) [112 B] in ???
