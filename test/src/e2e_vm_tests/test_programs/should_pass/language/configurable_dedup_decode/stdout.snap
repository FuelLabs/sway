---
source: test/src/snapshot/mod.rs
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/configurable_dedup_decode --release --ir final --asm final
exit status: 0
output:
    Building test/src/e2e_vm_tests/test_programs/should_pass/language/configurable_dedup_decode
   Compiling library std (sway-lib-std)
// IR: Final
library {
}

   Compiling script configurable_dedup_decode (test/src/e2e_vm_tests/test_programs/should_pass/language/configurable_dedup_decode)
// IR: Final
script {
    TUPLE = config { u64 }, abi_decode_in_place_0, 0x0000000000000002, !1
    WRAPPED = config { u64 }, abi_decode_in_place_0, 0x0000000000000001, !2

    pub fn abi_decode_in_place_0(ptr !4: ptr, len !5: u64, target !6: ptr) -> (), !9 {
        entry(ptr: ptr, len: u64, target: ptr):
        v138v1 = asm(src: ptr, target: target, len: len) -> (), !10 {
            mcp    target src len, !11
        }
        v220v1 = const unit ()
        ret () v220v1
    }

    pub entry fn __entry() -> __ptr never, !15 {
        local u64 _result

        entry():
        v314v1 = call main_15(), !18
        v315v1 = get_local __ptr u64, _result, !19
        store v314v1 to v315v1, !19
        v438v1 = get_local __ptr u64, _result, !20
        v325v1 = const u64 8
        retd v438v1 v325v1, !24
    }

    entry_orig fn main_15() -> u64, !27 {
        entry():
        v304v1 = get_config __ptr { u64 }, WRAPPED, !28
        v305v1 = const u64 0
        v306v1 = get_elem_ptr v304v1, __ptr u64, v305v1, !29
        v307v1 = load v306v1
        v308v1 = get_config __ptr { u64 }, TUPLE, !30
        v309v1 = const u64 0
        v310v1 = get_elem_ptr v308v1, __ptr u64, v309v1, !31
        v311v1 = load v310v1
        v563v1 = add v307v1, v311v1, !34
        ret u64 v563v1
    }
}

!0 = "test/src/e2e_vm_tests/test_programs/should_pass/language/configurable_dedup_decode/src/main.sw"
!1 = span !0 177 182
!2 = span !0 136 143
!3 = "sway-lib-std/src/codec.sw"
<<<<<<< HEAD
!4 = span !3 94090 94093
!5 = span !3 94104 94107
!6 = span !3 94114 94120
!7 = span !3 94060 94574
!8 = fn_name_span !3 94067 94086
!9 = (!7 !8)
!10 = span !3 94199 94282
!11 = span !3 94253 94271
!12 = "test/src/e2e_vm_tests/test_programs/should_pass/language/configurable_dedup_decode/src/main.<autogenerated>.sw"
!13 = span !12 0 131
!14 = fn_name_span !12 7 14
!15 = (!13 !14)
!16 = span !12 59 65
!17 = fn_call_path_span !12 59 63
!18 = (!16 !17)
!19 = span !12 40 66
!20 = span !12 109 116
!21 = span !12 83 117
!22 = fn_call_path_span !12 83 100
!23 = span !3 93290 93316
!24 = (!21 !22 !23)
!25 = span !0 202 246
!26 = fn_name_span !0 205 209
!27 = (!25 !26)
!28 = span !0 225 232
!29 = span !0 30 36
!30 = span !0 237 242
!31 = span !0 243 244
!32 = span !0 225 244
!33 = fn_call_path_span !0 235 236
!34 = (!32 !33)
=======
!4 = span !3 72368 72371
!5 = span !3 72382 72385
!6 = span !3 72392 72398
!7 = span !3 72338 72671
!8 = fn_name_span !3 72345 72364
!9 = inline "never"
!10 = (!7 !8 !9)
!11 = span !3 72456 72490
!12 = fn_call_path_span !3 72456 72480
!13 = span !3 735 755
!14 = (!11 !12 !13)
!15 = (!11 !12)
!16 = (!11 !12 !13)
!17 = span !3 72521 72527
!18 = span !3 72507 72528
!19 = fn_call_path_span !3 72507 72520
!20 = span !3 116541 116562
!21 = fn_call_path_span !3 116541 116554
!22 = span !3 73120 73148
!23 = fn_call_path_span !3 73127 73139
!24 = span !3 625 637
!25 = (!18 !19 !20 !21 !22 !23 !24)
!26 = (!18 !19 !20 !21 !22 !23)
!27 = span !3 2766 2847
!28 = (!18 !19 !20 !21 !22 !23 !27)
!29 = span !3 2804 2817
!30 = (!18 !19 !20 !21 !22 !23)
!31 = (!18 !19 !20 !21 !22 !23)
!32 = (!18 !19 !20 !21 !22 !23)
!33 = span !3 2857 2896
!34 = (!18 !19 !20 !21 !22 !23 !33)
!35 = span !3 116540 116565
!36 = (!18 !19 !35)
!37 = (!18 !19 !35)
!38 = (!18 !19 !35)
!39 = span !3 72587 72591
!40 = span !3 72577 72592
!41 = span !3 72534 72669
!42 = span !3 72642 72662
!43 = "test/src/e2e_vm_tests/test_programs/should_pass/language/configurable_dedup_decode/src/main.<autogenerated>.sw"
!44 = span !43 0 130
!45 = fn_name_span !43 7 14
!46 = (!44 !45)
!47 = span !43 59 65
!48 = fn_call_path_span !43 59 63
!49 = (!47 !48)
!50 = span !43 83 116
!51 = fn_call_path_span !43 83 100
!52 = (!50 !51)
!53 = span !3 71983 71987
!54 = (!50 !51 !53)
!55 = span !3 71967 71994
!56 = (!50 !51 !55)
!57 = span !0 202 246
!58 = fn_name_span !0 205 209
!59 = (!57 !58)
!60 = span !0 225 232
!61 = span !0 30 36
!62 = span !0 237 242
!63 = span !0 243 244
!64 = span !0 225 244
!65 = fn_call_path_span !0 235 236
!66 = (!64 !65)
>>>>>>> b178371dd (encode_allow_alias for log)

;; ASM: Final program
;; Program kind: Script
.program:
move $$tmp $pc
jmpf $zero i4
DATA_SECTION_OFFSET[0..32]
DATA_SECTION_OFFSET[32..64]
CONFIGURABLES_OFFSET[0..32]
CONFIGURABLES_OFFSET[32..64]
lw   $$ds $$tmp i1
add  $$ds $$ds $$tmp
cfei i16                      ; allocate stack space for globals
addr $$arg0 data_Configurable_0; get pointer to configurable TUPLE default value
addi $$arg1 $zero i8          ; get length of configurable TUPLE default value
addi $$arg2 $ssp i0           ; get pointer to configurable TUPLE stack address
jal  $$reta $pc i12           ; decode configurable TUPLE
addr $$arg0 data_Configurable_1; get pointer to configurable WRAPPED default value
addi $$arg1 $zero i8          ; get length of configurable WRAPPED default value
addi $$arg2 $ssp i8           ; get pointer to configurable WRAPPED stack address
jal  $$reta $pc i7            ; decode configurable WRAPPED
move $$locbase $sp            ; save locals base register for function __entry
cfei i8                       ; allocate 8 bytes for locals and 0 slots for call arguments
jal  $$reta $pc i13           ; [call]: call main_15
sw   $$locbase $$retv i0      ; store word
movi $r0 i8                   ; initialize constant into register
retd  $$locbase $r0
pshl i1                       ; save registers 16..40
pshh i524288                  ; save registers 40..64
move $$locbase $sp            ; save locals base register for function abi_decode_in_place_0
move $r0 $$reta               ; save return address
mcp  $$arg2 $$arg0 $$arg1     ; mcp target src len
move $$reta $r0               ; restore return address
poph i524288                  ; restore registers 40..64
popl i1                       ; restore registers 16..40
jal  $zero $$reta i0          ; return from call
pshl i3                       ; save registers 16..40
pshh i524288                  ; save registers 40..64
move $$locbase $sp            ; save locals base register for function main_15
lw   $r0 $ssp i1              ; load word
lw   $r1 $ssp i0              ; load word
add  $r0 $r0 $r1
move $$retv $r0               ; set return value
poph i524288                  ; restore registers 40..64
popl i3                       ; restore registers 16..40
jal  $zero $$reta i0          ; return from call
.data:
data_<Configurable, TUPLE>_0 .bytes[8] 00 00 00 00 00 00 00 02  ........
data_<Configurable, WRAPPED>_1 .bytes[8] 00 00 00 00 00 00 00 01  ........


    Finished release [optimized + fuel] target(s) [192 B] in ???
