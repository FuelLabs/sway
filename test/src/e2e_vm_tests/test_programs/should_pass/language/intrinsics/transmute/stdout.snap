---
source: test/src/snapshot/mod.rs
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/intrinsics/transmute --ir final --asm final --release  | filter-fn transmute transmute_by_reference_7,transmute_optimisation_13

fn transmute_by_reference_7(__ret_value: __ptr u256) -> () {
    entry(__ret_value: __ptr u256):
    v0 = cast_ptr __ret_value to __ptr [u8; 32]
    mem_clear_val v0
    v1 = const unit ()
    ret () v1
}


fn transmute_optimisation_13(__ret_value: __ptr slice) -> () {
    entry(__ret_value: __ptr slice):
    v0 = const u64 0
    v1 = asm(size: v0) -> ptr hp {
        aloc   size
    }
    v2 = cast_ptr __ret_value to __ptr { ptr, u64 }
    v3 = const u64 0
    v4 = get_elem_ptr v2, __ptr ptr, v3
    store v1 to v4
    v5 = const u64 1
    v6 = get_elem_ptr v2, __ptr u64, v5
    v7 = const u64 0
    store v7 to v6
    v8 = const unit ()
    ret () v8
}


pshl i1                       ; save registers 16..40
pshh i524288                  ; save registers 40..64
move $$locbase $sp            ; save locals base register for function transmute_by_reference_7
move $r0 $$reta               ; save return address
mcli $$arg0 i32               ; clear memory [u8; 32], 32 bytes
move $$reta $r0               ; restore return address
poph i524288                  ; restore registers 40..64
popl i1                       ; restore registers 16..40
jal  $zero $$reta i0          ; return from call

pshl i3                       ; save registers 16..40
pshh i524288                  ; save registers 40..64
move $$locbase $sp            ; save locals base register for function transmute_optimisation_13
move $r0 $$arg0               ; save argument 0 (__ret_value)
move $r1 $$reta               ; save return address
aloc $zero                    ; aloc size
sw   $r0 $hp i0               ; store word
sw   $r0 $zero i1             ; store word
move $$reta $r1               ; restore return address
poph i524288                  ; restore registers 40..64
popl i3                       ; restore registers 16..40
jal  $zero $$reta i0          ; return from call
