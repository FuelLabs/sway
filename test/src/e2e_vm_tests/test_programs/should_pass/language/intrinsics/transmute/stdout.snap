---
source: test/src/snapshot/mod.rs
assertion_line: 111
---
> forc build --path test/src/e2e_vm_tests/test_programs/should_pass/language/intrinsics/transmute --ir final --asm final | filter-fn transmute transmute_by_reference_7

fn transmute_by_reference_7(__ret_value: __ptr u256) -> () {
    local [u8; 32] __array_init_0
    local mut [u8; 32] bytes
    local __ptr u256 v

    entry(__ret_value: __ptr u256):
    v535v1 = get_local __ptr [u8; 32], __array_init_0
    mem_clear_val v535v1
    v537v1 = get_local __ptr [u8; 32], bytes
    mem_copy_val v537v1, v535v1
    v539v1 = get_local __ptr [u8; 32], bytes
    v540v1 = cast_ptr v539v1 to __ptr u256
    v541v1 = get_local __ptr __ptr u256, v
    store v540v1 to v541v1
    v543v1 = get_local __ptr __ptr u256, v
    v544v1 = load v543v1
    mem_copy_val __ret_value, v544v1
    v546v1 = const unit ()
    ret () v546v1
}


pshl i7                       ; save registers 16..40
pshh i524288                  ; save registers 40..64
move $$locbase $sp            ; save locals base register for function transmute_by_reference_7
cfei i72                      ; allocate 72 bytes for locals and 0 slots for call arguments
move $r0 $$arg0               ; save argument 0 (__ret_value)
move $r1 $$reta               ; save return address
mcli $$locbase i32            ; clear memory [u8; 32], 32 bytes
addi $r2 $$locbase i32        ; get offset to local __ptr [u8; 32]
mcpi $r2 $$locbase i32        ; copy memory
addi $r2 $$locbase i32        ; get offset to local __ptr [u8; 32]
sw   $$locbase $r2 i8         ; store word
lw   $r2 $$locbase i8         ; load word
mcpi $r0 $r2 i32              ; copy memory
cfsi i72                      ; free 72 bytes for locals and 0 slots for extra call arguments
move $$reta $r1               ; restore return address
poph i524288                  ; restore registers 40..64
popl i7                       ; restore registers 16..40
jal  $zero $$reta i0          ; return from call
