<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Testing with Forc Call - The Sway Programming Language</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Sway Programming Language</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/FuelLabs/sway" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="forc-call"><a class="header" href="#forc-call">Forc Call</a></h1>
<p><code>forc-call</code> is a command-line tool for interacting with deployed Fuel contracts. It allows you to make contract calls, query contract state, and interact with any deployed contract on the Fuel network - all from your command line!</p>
<p>The <code>forc call</code> command is part of the Forc toolchain and is installed alongside other Forc tools.</p>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<p>Here are a few examples of what you can do with <code>forc call</code>:</p>
<pre><code class="language-sway">contract;

abi ContractABI {
  fn add(a: u64, b: u64) -&gt; u64;
}

impl ContractABI for Contract {
  fn add(a: u64, b: u64) -&gt; u64 {
    a + b
  }
}
</code></pre>
<h3 id="list-callable-functions-of-a-contract-given-its-abi-file"><a class="header" href="#list-callable-functions-of-a-contract-given-its-abi-file">List callable functions of a contract given it's ABI file</a></h3>
<pre><code class="language-bash">forc call 0xe18de7c7c8c61a1c706dccb3533caa00ba5c11b5230da4428582abf1b6831b4d \
  --abi ./out/debug/counter-contract-abi.json \
  --list-functions
</code></pre>
<p>Output:</p>
<pre><code class="language-log">Available functions in contract: 0xe18de7c7c8c61a1c706dccb3533caa00ba5c11b5230da4428582abf1b6831b4d

add(a: u64, b: u64) -&gt; u64
  forc call \
    --abi ./out/debug/counter-contract-abi.json \
    0xe18de7c7c8c61a1c706dccb3533caa00ba5c11b5230da4428582abf1b6831b4d \
    add "0" "0"
</code></pre>
<h3 id="call-a-simple-addition-function-on-a-deployed-contract-in-dry-run-mode"><a class="header" href="#call-a-simple-addition-function-on-a-deployed-contract-in-dry-run-mode">Call a simple addition function on a deployed contract (in dry-run mode)</a></h3>
<pre><code class="language-bash">forc call 0xe18de7c7c8c61a1c706dccb3533caa00ba5c11b5230da4428582abf1b6831b4d \
  --abi ./out/debug/counter-contract-abi.json \
  add 1 2
</code></pre>
<h3 id="directly-send-funds-to-an-address"><a class="header" href="#directly-send-funds-to-an-address">Directly send funds to an address</a></h3>
<pre><code class="language-bash">forc call 0x2c7Fd852EF2BaE281e90ccaDf18510701989469f7fc4b042F779b58a39919Eec --amount 2 --mode=live
</code></pre>
<h3 id="query-the-owner-of-a-deployed-dex-contract-on-testnet"><a class="header" href="#query-the-owner-of-a-deployed-dex-contract-on-testnet">Query the owner of a deployed <a href="https://github.com/mira-amm/mira-v1-core">DEX contract</a> on testnet</a></h3>
<pre><code class="language-bash">forc call \
  --testnet \
  --abi https://raw.githubusercontent.com/mira-amm/mira-v1-periphery/refs/heads/main/fixtures/mira-amm/mira_amm_contract-abi.json \
  0xd5a716d967a9137222219657d7877bd8c79c64e1edb5de9f2901c98ebe74da80 \
  owner
</code></pre>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>Forc call has <strong>3</strong> usage modes:</p>
<h3 id="list-functions"><a class="header" href="#list-functions">List functions</a></h3>
<p>Syntax for <code>forc call</code> for listing supported functions from the ABI - with example command to perform call operation:</p>
<pre><code class="language-bash">forc call --abi &lt;ABI-PATH/URL&gt; &lt;CONTRACT_ID&gt; --list-functions
</code></pre>
<p>Where the following arguments are required:</p>
<ul>
<li><code>ABI-PATH/URL</code> is the path or URL to the contract's JSON ABI file</li>
<li><code>CONTRACT_ID</code> is the ID of the deployed contract you want to interact with</li>
</ul>
<h3 id="transfer-assets"><a class="header" href="#transfer-assets">Transfer assets</a></h3>
<p>Syntax for <code>forc call</code> for transferring assets:</p>
<pre><code class="language-bash">forc call &lt;RECEIVER_ADDRESS&gt; --amount &lt;AMOUNT&gt; --mode=live
</code></pre>
<p>Where the following arguments are required:</p>
<ul>
<li><code>RECEIVER_ADDRESS</code> is address of the receiver (identity or contract).</li>
<li><code>AMOUNT</code> is the amount of assets to transfer.</li>
</ul>
<p>Note: only live mode <code>--mode=live</code> is supported; transfers cannot be simulated.</p>
<h3 id="call-contracts"><a class="header" href="#call-contracts">Call contracts</a></h3>
<p>Syntax for <code>forc call</code> for contract calls:</p>
<pre><code class="language-bash">forc call [OPTIONS] --abi &lt;ABI-PATH/URL&gt; &lt;CONTRACT_ID&gt; &lt;SELECTOR&gt; [ARGS]...
</code></pre>
<p>Where the following arguments are required:</p>
<ul>
<li><code>CONTRACT_ID</code> is the ID of the deployed contract you want to interact with</li>
<li><code>ABI-PATH/URL</code> is the path or URL to the contract's JSON ABI file</li>
<li><code>SELECTOR</code> is the function name (selector) you want to call</li>
<li><code>ARGS</code> are the arguments to pass to the function</li>
</ul>
<h2 id="type-encoding"><a class="header" href="#type-encoding">Type Encoding</a></h2>
<p>When passing arguments to contract functions, values are encoded according to their Sway types.
Here's how to format different types:</p>
<div class="table-wrapper"><table><thead><tr><th>Types</th><th>Example input</th><th>Notes</th></tr></thead><tbody>
<tr><td>bool</td><td><code>true</code> or <code>false</code></td><td></td></tr>
<tr><td>u8, u16, u32, u64, u128, u256</td><td><code>42</code></td><td></td></tr>
<tr><td>b256</td><td><code>0x0000000000000000000000000000000000000000000000000000000000000042</code> or <code>0000000000000000000000000000000000000000000000000000000000000042</code></td><td><code>0x</code> prefix is optional</td></tr>
<tr><td>bytes, RawSlice</td><td><code>0x42</code> or <code>42</code></td><td><code>0x</code> prefix is optional</td></tr>
<tr><td>String, StringSlice, StringArray (Fixed-size)</td><td><code>"abc"</code></td><td></td></tr>
<tr><td>Tuple</td><td><code>(42, true)</code></td><td>The types in tuple can be different</td></tr>
<tr><td>Array (Fixed-size), Vector (Dynamic)</td><td><code>[42, 128]</code></td><td>The types in array or vector must be the same; i.e. you cannot have <code>[42, true]</code></td></tr>
<tr><td>Struct</td><td><code>{42, 128}</code></td><td>Since structs are packed encoded, the attribute names are not encoded; i.e. <code>{42, 128}</code>; this could represent the following <code>struct Polygon { x: u64, y: u64 }</code></td></tr>
<tr><td>Enum</td><td><code>(Active: true)</code> or <code>(1: true)</code></td><td>Enums are key-val pairs with keys as being variant name (case-sensitive) or variant index (starting from 0) and values as being the variant value; this could represent the following <code>enum MyEnum { Inactive, Active(bool) }</code></td></tr>
</tbody></table>
</div>
<h2 id="abi-support"><a class="header" href="#abi-support">ABI Support</a></h2>
<p>The ABI (Application Binary Interface) can be provided in two ways.</p>
<h3 id="local-file"><a class="header" href="#local-file">Local file</a></h3>
<pre><code class="language-bash">forc call &lt;CONTRACT_ID&gt; --abi ./path/to/abi.json &lt;FUNCTION&gt; [ARGS...]
</code></pre>
<h3 id="remote-abi-fileurl"><a class="header" href="#remote-abi-fileurl">Remote ABI file/URL</a></h3>
<pre><code class="language-bash">forc call &lt;CONTRACT_ID&gt; --abi https://example.com/abi.json &lt;FUNCTION&gt; [ARGS...]
</code></pre>
<h2 id="network-configuration"><a class="header" href="#network-configuration">Network Configuration</a></h2>
<pre><code class="language-bash">forc call --node-url http://127.0.0.1:4000 ...
# or
forc call --target local ...
</code></pre>
<h2 id="advanced-usage"><a class="header" href="#advanced-usage">Advanced Usage</a></h2>
<h3 id="using-wallets"><a class="header" href="#using-wallets">Using Wallets</a></h3>
<pre><code class="language-sh"># utilising the forc-wallet
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; &lt;FUNCTION&gt; --wallet
</code></pre>
<pre><code class="language-sh"># with an explicit signing key
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; &lt;FUNCTION&gt; --signing-key &lt;KEY&gt;
</code></pre>
<h3 id="asset-transfers"><a class="header" href="#asset-transfers">Asset Transfers</a></h3>
<pre><code class="language-sh"># Native asset transfer
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; &lt;FUNCTION&gt; --amount 100 --live
</code></pre>
<pre><code class="language-sh"># Custom asset transfer
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; &lt;FUNCTION&gt; \
    --amount 100 \
    --asset-id 0x1234... \
    --live
</code></pre>
<h3 id="gas-configuration"><a class="header" href="#gas-configuration">Gas Configuration</a></h3>
<pre><code class="language-sh"># Set gas price
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; &lt;FUNCTION&gt; --gas-price 1

# Forward gas to contract
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; &lt;FUNCTION&gt; --gas-forwarded 1000

# Set maximum fee
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; &lt;FUNCTION&gt; --max-fee 5000
</code></pre>
<h3 id="transaction-tracing"><a class="header" href="#transaction-tracing">Transaction Tracing</a></h3>
<p>When you need to debug contract interactions or understand the execution flow, <code>forc call</code> provides detailed transaction traces with verbosity level 3 or higher (<code>-vvv</code> or <code>-v=3</code>).</p>
<pre><code class="language-sh"># Enable transaction tracing
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; &lt;FUNCTION&gt; -vvv
</code></pre>
<p>The transaction trace provides a hierarchical view of all contract calls, showing:</p>
<ul>
<li>Gas consumption for each call (<code>[gas_amount]</code>)</li>
<li>Contract addresses being called</li>
<li>Return values and data</li>
<li>Emitted logs and events</li>
<li>Nested contract calls with proper indentation</li>
<li>Overall transaction result and gas usage</li>
</ul>
<h4 id="example-transaction-trace-output"><a class="header" href="#example-transaction-trace-output">Example Transaction Trace Output</a></h4>
<pre><code class="language-bash">forc call 0x9275a76531bce733cfafdbcb6727ea533ebbdc358d685152169b3c4eaa47b965 \
  --abi ./demo/demo-caller-abi.json \
  call_increment_count -vvv
</code></pre>
<p><strong>Output:</strong></p>
<pre><code class="language-log">Traces:
  [Script]
    ├─ [124116] 0x9275a76531bce733cfafdbcb6727ea533ebbdc358d685152169b3c4eaa47b965
    │    ├─ [111500] 0xb792b1e233a2c06bccec611711acc3bb61bdcb28f16abdde86d1478ee02f6e42
    │    │    └─ ← ()
    │    ├─ emit AsciiString { data: "incremented count" }
    │    ├─ [86284] 0xb792b1e233a2c06bccec611711acc3bb61bdcb28f16abdde86d1478ee02f6e42
    │    │    └─ ← 0x0000000000000002
    │    ├─ emit 2
    │    ├─ emit AsciiString { data: "done" }
    │    ├─ [72699] 0xb792b1e233a2c06bccec611711acc3bb61bdcb28f16abdde86d1478ee02f6e42
    │    │    └─ ← ()
    │    ├─ [48287] 0xb792b1e233a2c06bccec611711acc3bb61bdcb28f16abdde86d1478ee02f6e42
    │    │    └─ ← 0x0000000000000003
    │    └─ ← 0x0000000000000003
    └─ ← [Return] val: 1
  [ScriptResult] result: Success, gas_used: 89279

Transaction successfully executed.
Gas used: 160676
</code></pre>
<h4 id="understanding-the-trace-format"><a class="header" href="#understanding-the-trace-format">Understanding the Trace Format</a></h4>
<ul>
<li><code>[Script]</code> - The root transaction script</li>
<li><code>├─ [gas_amount] 0xcontract_address</code> - A contract call with gas consumption</li>
<li><code>│    └─ ← value</code> - Return value from the contract call</li>
<li><code>emit data</code> - Log/event emitted by the contract</li>
<li>Indentation shows the call hierarchy (nested calls are indented further)</li>
<li><code>[ScriptResult]</code> - Final transaction result with gas used by the script</li>
<li><code>Gas used: &lt;gas_used&gt;</code> - Total gas used by the transaction</li>
</ul>
<p>This tracing feature is particularly useful for:</p>
<ul>
<li>Debugging failed transactions</li>
<li>Understanding gas consumption patterns</li>
<li>Analyzing complex multi-contract interactions</li>
<li>Verifying expected contract behavior</li>
</ul>
<h3 id="common-use-cases"><a class="header" href="#common-use-cases">Common Use Cases</a></h3>
<h4 id="contract-state-queries"><a class="header" href="#contract-state-queries">Contract State Queries</a></h4>
<pre><code class="language-sh"># Read contract state
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; get_balance

# Query with parameters
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; get_user_info 0x1234...
</code></pre>
<h4 id="token-operations"><a class="header" href="#token-operations">Token Operations</a></h4>
<pre><code class="language-sh"># Check token balance
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; balance_of 0x1234...

# Transfer tokens
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; transfer 0x1234... 100 --live
</code></pre>
<h4 id="contract-administration"><a class="header" href="#contract-administration">Contract Administration</a></h4>
<pre><code class="language-sh"># Check contract owner
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; owner

# Update contract parameters
forc call &lt;CONTRACT_ID&gt; --abi &lt;PATH&gt; update_params 42 --live
</code></pre>
<h2 id="tips-and-tricks"><a class="header" href="#tips-and-tricks">Tips and Tricks</a></h2>
<ul>
<li>Use <code>--mode simulate</code> to estimate gas costs before making live transactions</li>
<li>External contracts are automatically detected (via internal simulations), but can be manually specified with <code>--external-contracts</code></li>
<li>For complex parameter types (tuples, structs, enums), refer to the parameter types table above</li>
<li>Always verify contract addresses and ABIs before making live calls</li>
<li>Use environment variables for sensitive data like signing keys: <code>SIGNING_KEY=&lt;key&gt;</code></li>
</ul>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<h3 id="common-issues-and-solutions"><a class="header" href="#common-issues-and-solutions">Common issues and solutions</a></h3>
<ul>
<li>
<p><strong>ABI Mismatch</strong>:</p>
<ul>
<li>Ensure the ABI matches the deployed contract</li>
<li>Verify function selectors match exactly</li>
</ul>
</li>
<li>
<p><strong>Parameter Type Errors</strong>:</p>
<ul>
<li>Check parameter formats in the types table</li>
<li>Ensure correct number of parameters</li>
</ul>
</li>
<li>
<p><strong>Network Issues</strong>:</p>
<ul>
<li>Verify node connection</li>
<li>Check network selection (testnet/mainnet)</li>
</ul>
</li>
<li>
<p><strong>Transaction Failures</strong>:</p>
<ul>
<li>Use simulation mode to debug</li>
<li>Check gas settings</li>
<li>Verify wallet has sufficient balance</li>
</ul>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../testing/testing-with-rust.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../debugging/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../testing/testing-with-rust.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../debugging/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
